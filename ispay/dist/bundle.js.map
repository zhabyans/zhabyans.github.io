{
  "version": 3,
  "sources": ["../utils.js", "../tema.js", "../getDataAkun.js", "../xmppHelper.js", "../inputHandler.js", "../modal.js", "../showHargaItem.js", "../menuPulsa.js", "../menuPaketData.js", "../menuPaketNelpon.js", "../menuTokenListrik.js", "../menuEwallet.js", "../menuGames.js", "../menuPaketTv.js", "../menuBayarListrik.js", "../menuBayarBpjs.js", "../menuBayarIndihome.js", "../showMenuKotak.js", "../renderLaporanHeader.js", "../shareStruk.js", "../hargaJualMap.js", "../printThermal.js", "../klikDetailLaporan.js", "../renderLaporanItem.js", "../showLaporanTransaksi.js", "../notifikasiTransaksi.js", "../pin.js", "../xmpp.js", "../auth.js", "../getKontak.js", "../navigasi.js", "../akunPage.js", "../navigasiKeyboard.js", "../register.js", "../backHandler.js", "../serviceWorkerRegister.js", "../app.js"],
  "sourcesContent": ["\r\n// fungsi buat tombol reusable\r\nexport function createButton(label, onClick) {\r\n  const btn = document.createElement(\"button\");\r\n  btn.textContent = label;\r\n  btn.style.margin = \"0.25rem\";\r\n  btn.addEventListener(\"click\", onClick);\r\n  return btn;\r\n}\r\n\r\nlet toastTimeout = null; // global untuk mengontrol hide toast\r\nexport function showToast(message, type = \"error\", durasi = 3000) {\r\n  const toast = document.getElementById(\"toast\");\r\n  if (!toast) return;\r\n\r\n  let icon = \"\u26A0\uFE0F\";\r\n  toast.classList.remove(\"success\", \"error\");\r\n\r\n  if (type === \"success\") {\r\n    icon = \"\u2705\";\r\n    toast.classList.add(\"success\");\r\n  } else {\r\n    toast.classList.add(\"error\");\r\n  }\r\n\r\n  // icon di atas, message di bawah\r\n  toast.innerHTML = `\r\n        <div class=\"toast-icon\">${icon}</div>\r\n        <div class=\"toast-message\">${message}</div>\r\n    `;\r\n  toast.classList.add(\"show\");\r\n\r\n  if (toastTimeout) clearTimeout(toastTimeout);\r\n\r\n  toastTimeout = setTimeout(() => {\r\n    toast.classList.remove(\"show\");\r\n    toastTimeout = null;\r\n  }, durasi);\r\n}\r\n\r\n// Utility untuk normalisasi angka Rupiah\r\nexport function normalizeRupiah(str) {\r\n  if (!str) return 0;\r\n  return parseInt(str.replace(/[^0-9]/g, \"\"), 10) || 0;\r\n}\r\n\r\n// Fungsi normalisasi nomor tujuan\r\nexport function normalizeInput(value) {\r\n  if (!value) return \"\";\r\n\r\n  // Hapus semua karakter kecuali angka\r\n  let val = value.replace(/\\D/g, \"\");\r\n\r\n  // Normalisasi ke format 08xxxx\r\n  if (val.startsWith(\"62\")) {\r\n    val = \"0\" + val.substring(2);\r\n  } else if (val.startsWith(\"8\")) {\r\n    // jika user ketik 812..., otomatis jadi 0812...\r\n    val = \"0\" + val;\r\n  }\r\n  // kalau sudah mulai dengan \"0\", biarkan\r\n\r\n  return val;\r\n}\r\n\r\n\r\n// Fungsi untuk toggle show/hide password\r\nexport function setupTogglePassword(toggleBtnEl, passInputEl) {\r\n  toggleBtnEl.addEventListener(\"click\", () => {\r\n    if (passInputEl.type === \"password\") {\r\n      passInputEl.type = \"text\";\r\n      toggleBtnEl.textContent = \"\uD83D\uDE48\"; // ganti ikon saat terlihat\r\n    } else {\r\n      passInputEl.type = \"password\";\r\n      toggleBtnEl.textContent = \"\uD83D\uDC41\";\r\n    }\r\n  });\r\n}\r\n\r\n// Cegah seleksi teks dan klik kanan\r\nexport function preventTextSelectionAndContextMenu() {\r\n  document.addEventListener(\"selectstart\", (e) => {\r\n    e.preventDefault();\r\n  });\r\n\r\n  document.addEventListener(\"contextmenu\", (e) => {\r\n    e.preventDefault();\r\n  });\r\n}\r\n\r\nexport function showLoadingModal() {\r\n    document.getElementById(\"loadingModal\").style.display = \"flex\";\r\n    updateProgress(0);\r\n}\r\n\r\nexport function hideLoadingModal() {\r\n    document.getElementById(\"loadingModal\").style.display = \"none\";\r\n}\r\n\r\nexport function updateProgress(val) {\r\n    const progress = document.getElementById(\"loginProgress\");\r\n    const text = document.getElementById(\"loginProgressText\");\r\n    if (progress && text) {\r\n        progress.value = val;\r\n        text.textContent = val + \"%\";\r\n    }\r\n}\r\n\r\nexport function productCommand(baseCode) {\r\n    const tipeAkun = localStorage.getItem(\"tipe_akun\");\r\n    if (tipeAkun === \"SP\") {\r\n        return `harga.${baseCode}x`; // selalu tambahkan \"x\" di akhir\r\n    }\r\n    return `harga.${baseCode}`;\r\n}", "// tema.js\r\nexport function setupTheme() {\r\n    const toggleBtns = document.querySelectorAll(\".toggleThemeBtn\");\r\n    const htmlTag = document.documentElement;\r\n    const themeMeta = document.getElementById(\"theme-color\");\r\n\r\n    // warna yang akan dipakai untuk navigation bar/status bar\r\n    const themeColors = {\r\n        light: \"#ffffff\",\r\n        dark: \"#121212\"\r\n    };\r\n\r\n    let savedTheme = localStorage.getItem(\"theme\");\r\n\r\n    if (savedTheme) {\r\n        htmlTag.setAttribute(\"data-theme\", savedTheme);\r\n    } else {\r\n        const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\r\n        savedTheme = prefersDark ? \"dark\" : \"light\";\r\n        htmlTag.setAttribute(\"data-theme\", savedTheme);\r\n        localStorage.setItem(\"theme\", savedTheme);\r\n    }\r\n\r\n    function updateUI() {\r\n        let theme = htmlTag.getAttribute(\"data-theme\");\r\n        let color = themeColors[theme] || \"#ffffff\";\r\n\r\n        // update icon tombol\r\n        toggleBtns.forEach(btn => {\r\n            const icon = btn.querySelector(\".akun-icon\") || btn;\r\n            icon.textContent = theme === \"dark\" ? \"\u2600\uFE0F\" : \"\uD83C\uDF19\";\r\n        });\r\n\r\n        // update warna navigation bar (via theme-color)\r\n        themeMeta.setAttribute(\"content\", color);\r\n    }\r\n\r\n    toggleBtns.forEach(btn => {\r\n        btn.addEventListener(\"click\", () => {\r\n            let currentTheme = htmlTag.getAttribute(\"data-theme\");\r\n            let newTheme = currentTheme === \"dark\" ? \"light\" : \"dark\";\r\n            htmlTag.setAttribute(\"data-theme\", newTheme);\r\n            localStorage.setItem(\"theme\", newTheme);\r\n            updateUI();\r\n        });\r\n    });\r\n\r\n    updateUI();\r\n}\r\n", "//file getDataAkun.js\r\nexport function getDataAkun(msg) {\r\n    const elems = msg.getElementsByTagName(\"body\");\r\n\r\n    if (elems.length > 0) {\r\n        const body = elems[0].textContent;\r\n        console.log(\"[DEBUG] body:\", body);\r\n\r\n        if (!body.includes(\"Yth.\")) {\r\n            return true;\r\n        }\r\n\r\n        // Ambil nama agen dan kode\r\n        const agenMatch = body.match(/Yth\\.\\s+([^-]+)-\\s*([A-Z0-9]+)/);\r\n        const agen = agenMatch ? agenMatch[1].trim() : \"tidak diketahui\";\r\n        localStorage.setItem(\"nama_agen\", agen);\r\n        const kodeAgen = agenMatch ? agenMatch[2].trim() : \"tidak diketahui\";\r\n\r\n        // Ambil field lain\r\n        const saldoMatch = body.match(/Saldo\\s(-?[\\d.]+)/);\r\n        const prosesMatch = body.match(/Proses\\s([\\d.]+)/);\r\n        const trxMatch = body.match(/Trx\\s([\\d.]+)/i);\r\n        const bonusMatch = body.match(/Bonus\\s([\\d.]+)/);\r\n        const poinMatch = body.match(/Poin\\s([\\d.]+)/i);\r\n        const pemakaianMatch = body.match(/Pemakaian\\s([\\d.]+)/i);\r\n\r\n        const saldo = saldoMatch ? saldoMatch[1] : \"-\";\r\n        const proses = prosesMatch ? prosesMatch[1] : \"-\";\r\n        const trx = trxMatch ? trxMatch[1] : \"-\";\r\n        const bonus = bonusMatch ? bonusMatch[1] : \"-\";\r\n        const poin = poinMatch ? poinMatch[1] : \"-\";\r\n        const pemakaian = pemakaianMatch ? pemakaianMatch[1] : \"-\";\r\n\r\n        // \uD83D\uDD39 Ambil tipe akun dari \"Grup X\" (bisa huruf atau angka)\r\n        const grupMatch = body.match(/Grup\\s+([A-Z0-9]+)/i);\r\n        if (grupMatch) {\r\n            const tipeAkun = grupMatch[1].toUpperCase();\r\n            localStorage.setItem(\"tipe_akun\", tipeAkun);\r\n            console.log(\"[DEBUG] tipe_akun tersimpan:\", tipeAkun);\r\n        }\r\n\r\n\r\n        // Tampilkan ke halaman\r\n        document.getElementById(\"saldoDisplay\").innerHTML = `\r\n            <header style=\"\r\n                margin-bottom:0.5rem;\r\n                display:grid; \r\n                grid-template-columns: 1fr 1fr; \r\n                text-align:center;\r\n                gap:0.5rem;\r\n            \">\r\n                <div>\uD83D\uDC64 <strong>${agen}</strong></div>\r\n                <div>\uD83C\uDD94 <strong>${kodeAgen}</strong></div>\r\n            </header>\r\n            <div style=\"\r\n                display:grid; \r\n                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); \r\n                gap:0.5rem;\r\n            \">\r\n                <div>\uD83D\uDCB0 <strong>Saldo:</strong> ${saldo}</div>\r\n                <div>\u2699\uFE0F <strong>Proses:</strong> ${proses}</div>\r\n                <div>\uD83D\uDCCA <strong>Jml TRX:</strong> ${trx}</div>\r\n                <div>\uD83C\uDF81 <strong>Bonus:</strong> ${bonus}</div>\r\n                <div>\u2B50 <strong>Poin:</strong> ${poin}</div>\r\n                <div>\uD83D\uDCC5 <strong>Terpakai:</strong> ${pemakaian}</div>\r\n            </div>\r\n        `;\r\n    }\r\n    return true;\r\n}\r\n", "// xmppHelper.js\r\nimport { connection } from \"./xmpp.js\";\r\n\r\n/**\r\n * Kirim pesan chat ke server\r\n * @param {string} isiPesan - isi pesan\r\n * @param {string} to - tujuan (default user1)\r\n */\r\nexport function kirimPesan(isiPesan, to = \"user1@pulsa.dpdns.org\") {\r\n    if (!connection) {\r\n        console.warn(\"XMPP connection belum tersedia.\");\r\n        return;\r\n    }\r\n    const message = $msg({ to: to, type: \"chat\" }).c(\"body\").t(isiPesan);\r\n    connection.send(message);\r\n    console.log(`Pesan terkirim ke ${to}: ${isiPesan}`);\r\n}\r\n\r\n/**\r\n * Buat handler global untuk menerima pesan masuk\r\n * @param {Function} callback - fungsi untuk memproses body pesan\r\n */\r\nexport function onMessage(callback) {\r\n    return function(msg) {\r\n        const body = msg.getElementsByTagName(\"body\")[0];\r\n        if (body) {\r\n            const responseText = Strophe.getText(body).trim();\r\n            // console.log(\"Pesan masuk:\", responseText);\r\n\r\n            if (callback && typeof callback === \"function\") {\r\n                callback(responseText, msg);\r\n            }\r\n        }\r\n        return true; // supaya handler tetap aktif\r\n    };\r\n}\r\n", "// file inputHandler.js\r\nconst inputTujuan = document.getElementById(\"inputTujuan\");\r\nconst operatorDisplay = document.getElementById(\"operatorDisplay\");\r\nconst extraButtons = document.getElementById(\"extraButtons\");\r\nconst clearInput = document.getElementById(\"clearInput\"); // tambahkan ini\r\n\r\n// daftar prefix operator\r\nconst operatorPrefix = {\r\n    \"Tsel\": [\"0811\", \"0812\", \"0813\", \"0851\", \"0852\", \"0853\", \"0821\", \"0822\", \"0823\", \"0824\"],\r\n    \"Isat\": [\"0814\", \"0815\", \"0816\", \"0855\", \"0856\", \"0857\", \"0858\"],\r\n    \"Axis\": [\"083\"],\r\n    \"By.U\": [\"085155\", \"085156\", \"085157\", \"085158\", \"085154\", \"085159\", \"08512\"],\r\n    \"Token Listrik\": [\"01\", \"04\", \"05\", \"06\", \"07\", \"09\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"001\", \"020\", \"03\"],\r\n    \"Smar\": [\"088\"],\r\n    \"Tri\": [\"089\"],\r\n    \"XL\": [\"0817\", \"0818\", \"0819\", \"0859\", \"0878\", \"0877\"]\r\n};\r\n\r\n// ----------------------\r\n// Fungsi deteksi operator\r\n// ----------------------\r\nfunction detectOperator(number) {\r\n    let foundOperator = \"\";\r\n\r\n    // cek prefix dari yang terpanjang agar lebih spesifik (contoh: 085155 > 0851)\r\n    const sortedOperators = Object.entries(operatorPrefix).sort((a, b) => {\r\n        const maxA = Math.max(...a[1].map(p => p.length));\r\n        const maxB = Math.max(...b[1].map(p => p.length));\r\n        return maxB - maxA;\r\n    });\r\n\r\n    for (let [operator, prefixes] of sortedOperators) {\r\n        for (let prefix of prefixes) {\r\n            if (number.startsWith(prefix)) {\r\n                return operator;\r\n            }\r\n        }\r\n    }\r\n    return foundOperator;\r\n}\r\n\r\n// ----------------------\r\n// Event handler input\r\n// ----------------------\r\nexport function handleInputChange() {\r\n    const nomor = inputTujuan.value.trim();\r\n\r\n    if (!nomor) {\r\n        operatorDisplay.textContent = \"\";\r\n        inputTujuan.classList.remove(\"with-operator\");\r\n        extraButtons.innerHTML = \"\";\r\n        return;\r\n    }\r\n\r\n    const operator = detectOperator(nomor);\r\n\r\n    // tampilkan hanya kalau bukan Token Listrik\r\n    if (operator && operator !== \"Token Listrik\") {\r\n        operatorDisplay.textContent = operator;\r\n        inputTujuan.classList.add(\"with-operator\");\r\n    } else {\r\n        operatorDisplay.textContent = \"\";\r\n        inputTujuan.classList.remove(\"with-operator\");\r\n    }\r\n\r\n    extraButtons.innerHTML = \"\";\r\n}\r\n\r\n\r\n\r\n// aktifkan event listener\r\ninputTujuan.addEventListener(\"input\", () => {\r\n    handleInputChange();\r\n    toggleClearBtn();\r\n});\r\n\r\nfunction toggleClearBtn() {\r\n    clearInput.style.display = inputTujuan.value ? \"block\" : \"none\";\r\n}\r\n\r\nclearInput.addEventListener(\"click\", () => {\r\n    inputTujuan.value = \"\";\r\n    handleInputChange();\r\n    toggleClearBtn();\r\n    inputTujuan.focus(); // balikkan fokus ke input\r\n});\r\n\r\n// inisialisasi awal\r\ntoggleClearBtn();\r\n\r\n// ----------------------\r\n// Ekspor supaya bisa dipakai di file lain\r\n// ----------------------\r\nexport { inputTujuan, operatorDisplay, extraButtons, detectOperator };\r\n", "// file modal.js\r\nexport function showModalCustom({\r\n    title = \"\",\r\n    message = \"\",\r\n    buttons = []\r\n}) {\r\n    const modalOverlay = document.getElementById(\"modalOverlay\");\r\n    const modalHeader = document.getElementById(\"modalHeader\");\r\n    const modalMessage = document.getElementById(\"modalMessage\");\r\n    const modalButtons = document.getElementById(\"modalButtons\");\r\n    const modalCloseBtn = document.getElementById(\"modalCloseBtn\");\r\n\r\n    modalHeader.textContent = title;\r\n    modalMessage.innerHTML = message;\r\n    modalOverlay.style.display = \"flex\";\r\n    window.modalTerbuka = true; // \u2B05\uFE0F tandai modal terbuka\r\n\r\n    // setiap kali buka modal, dorong state baru\r\n    history.pushState({ modal: true }, null, location.href);\r\n\r\n    // kosongkan tombol lama\r\n    modalButtons.innerHTML = \"\";\r\n\r\n    buttons.forEach(btn => {\r\n        const buttonEl = document.createElement(\"button\");\r\n        buttonEl.textContent = btn.text;\r\n        buttonEl.className = btn.className || \"modal-ok\";\r\n\r\n        // cek apakah tombol harus disabled\r\n        if (btn.disabled) {\r\n            buttonEl.disabled = true;\r\n            buttonEl.style.opacity = \"0.6\";      // biar kelihatan nonaktif\r\n            buttonEl.style.cursor = \"not-allowed\";\r\n        } else {\r\n            buttonEl.onclick = () => {\r\n                modalOverlay.style.display = \"none\";\r\n                window.modalTerbuka = false;\r\n                if (btn.onClick) btn.onClick();\r\n            };\r\n        }\r\n\r\n        modalButtons.appendChild(buttonEl);\r\n    });\r\n\r\n\r\n    modalCloseBtn.onclick = () => {\r\n        modalOverlay.style.display = \"none\";\r\n        window.modalTerbuka = false;\r\n    };\r\n}\r\n\r\n\r\n// === wrapper lama agar tetap kompatibel ===\r\nexport function showModalConfirm(judul, message, onConfirm, onCancel) {\r\n    showModalCustom({\r\n        title: judul,\r\n        message,\r\n        buttons: [\r\n            {\r\n                text: \"OK\",\r\n                className: \"modal-ok\",\r\n                onClick: () => {\r\n                    window.modalTerbuka = false; // pastikan reset\r\n                    if (onConfirm) onConfirm();\r\n                }\r\n            },\r\n            {\r\n                text: \"Cancel\",\r\n                className: \"modal-cancel\",\r\n                onClick: () => {\r\n                    window.modalTerbuka = false; // pastikan reset\r\n                    if (onCancel) onCancel();\r\n                }\r\n            }\r\n        ]\r\n    });\r\n}\r\n\r\n", "// file: showHargaItem.js\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\nimport { showToast } from \"./utils.js\";\r\nimport { showModalConfirm } from \"./modal.js\";  // \u2705 ambil dari file baru\r\n\r\nconst extraButtons = document.getElementById(\"extraButtons\");\r\nconst inputTujuan = document.getElementById(\"inputTujuan\");\r\n\r\nexport function showHargaItem(responseText) {\r\n    extraButtons.innerHTML = \"\";\r\n    extraButtons.style.display = \"block\";\r\n    extraButtons.className = \"harga-list\";\r\n\r\n    const lines = responseText.split(\"\\n\").map(l => l.trim()).filter(l => l);\r\n    let headerAdded = false; // flag header\r\n\r\n    lines.forEach(line => {\r\n        const parts = line.split(\"=\");\r\n        if (parts.length >= 3) {\r\n            const kode = parts[0].trim();\r\n            const deskripsi = parts[1].trim();\r\n            let harga = parts[2].replace(\";\", \"\").trim();\r\n\r\n            // \u27A4 Skip jika harga mengandung [K] atau [G]\r\n            if (/\\[K\\]|\\[G\\]/.test(harga)) return;\r\n\r\n            // \u27A4 Skip jika harga bukan angka\r\n            if (!/^\\d+([.,]\\d+)?$/.test(harga)) return;\r\n\r\n            // Tambahkan header hanya sekali sebelum item pertama\r\n            if (!headerAdded) {\r\n                const headerDiv = document.createElement(\"div\");\r\n                headerDiv.className = \"menu-item harga-item header-item\";\r\n                headerDiv.style.display = \"flex\";\r\n                headerDiv.style.justifyContent = \"space-between\";\r\n                headerDiv.style.alignItems = \"center\";\r\n                headerDiv.style.padding = \"0.5rem 1rem\";\r\n                headerDiv.style.borderBottom = \"1px solid #ccc\";\r\n\r\n                headerDiv.innerHTML = `\r\n                <span style=\"font-weight:bold; color:var(--pico-primary); min-width:50px;\">Kode</span>\r\n                <span style=\"flex:1; margin-left:1rem; margin-right:1rem; font-weight:bold;\">Deskripsi</span>\r\n                <span style=\"font-weight:bold; color:var(--pico-success); min-width:60px; text-align:right;\">Harga</span>\r\n            `;\r\n                extraButtons.appendChild(headerDiv);\r\n                headerAdded = true;\r\n            }\r\n\r\n            const div = document.createElement(\"div\");\r\n            div.className = \"menu-item harga-item\";\r\n            div.style.display = \"flex\";\r\n            div.style.justifyContent = \"space-between\";\r\n            div.style.alignItems = \"center\";\r\n            div.style.padding = \"0.5rem 1rem\";\r\n\r\n            div.innerHTML = `\r\n            <span style=\"font-weight:bold; color:var(--pico-primary); min-width:50px;\">${kode}</span>\r\n            <span style=\"flex:1; margin-left:1rem; margin-right:1rem;\">${deskripsi}</span>\r\n            <span style=\"font-weight:bold; color:var(--pico-success); min-width:60px; text-align:right;\">Rp${harga}</span>\r\n        `;\r\n\r\n            div.addEventListener(\"click\", () => {\r\n                const nomor = inputTujuan.value;\r\n                const pesanKonfirmasi = `\r\n                <table class=\"detail-table-laporan-modal\">\r\n                    <tr><td>Kode Produk</td><td>${kode}</td></tr>\r\n                    <tr><td>Deskripsi Produk</td><td>${deskripsi}</td></tr>\r\n                    <tr><td>Harga Modal</td><td>Rp${harga}</td></tr>\r\n                    <tr><td>Nomor Tujuan</td><td>${nomor}</td></tr>\r\n                </table>\r\n                <div style=\"font-weight:bold; color:red; text-align:center;\">\r\n                    Pastikan Saldo Anda Mencukupi!\r\n                </div>`;\r\n\r\n                showModalConfirm(\"KONFIRMASI TRANSAKSI\",\r\n                    pesanKonfirmasi, () => {\r\n                        kirimPesan(`${kode}.${nomor}`);\r\n                        kirimPesan(\"S\");\r\n                    }, () => {\r\n                        showToast(\"Transaksi dibatalkan\", \"error\");\r\n                    });\r\n            });\r\n\r\n            extraButtons.appendChild(div);\r\n        }\r\n    });\r\n\r\n}\r\n", "//file menuPulsa.js\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\nimport { createButton, productCommand, showToast } from \"./utils.js\"; // jika createButton ingin dipakai bersama\r\n\r\nexport function menuPulsa(extraButtons, operatorDisplay, operator) {\r\n    if (!operator || operator === \"Unknown\") {\r\n        showToast(\"Nomor Tujuan Tidak Dikenali untuk Pulsa\");\r\n        return;\r\n    }\r\n    const tipeAkun = localStorage.getItem(\"tipe_akun\");\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n\r\n    if (operator === \"Tsel\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Pulsa Reguler\", () => kirimPesan(productCommand(\"t\")))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Tambah Masa Aktif\", () => kirimPesan(productCommand(\"tmat\")))\r\n        );\r\n    }\r\n    else if (operator === \"Isat\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Pulsa Reguler\", () => kirimPesan(productCommand(\"i\")))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Tambah Masa Aktif\", () => kirimPesan(productCommand(\"tmai\")))\r\n        );\r\n    }\r\n    else if (operator === \"XL\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Pulsa Reguler\", () => kirimPesan(productCommand(\"x\")))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Tambah Masa Aktif\", () => kirimPesan(productCommand(\"tmax\")))\r\n        );\r\n    }\r\n    else if (operator === \"Axis\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Pulsa Reguler\", () => kirimPesan(productCommand(\"a\")))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Tambah Masa Aktif\", () => kirimPesan(productCommand(\"tmaa\")))\r\n        );\r\n    }\r\n    else if (operator === \"Tri\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Pulsa Reguler\", () => kirimPesan(productCommand(\"tr\")))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Tambah Masa Aktif\", () => kirimPesan(productCommand(\"tmatri\")))\r\n        );\r\n    }\r\n    else if (operator === \"Smar\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Pulsa Reguler\", () => kirimPesan(productCommand(\"s\")))\r\n        );\r\n    }\r\n\r\n}\r\n", "import { createButton, showToast } from \"./utils.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\n\r\nexport function menuPaketData(extraButtons, operatorDisplay, operator) {\r\n    if (!operator || operator === \"Unknown\") {\r\n        showToast(\"Nomor Tujuan Tidak Dikenali untuk Paket Data\");\r\n        return;\r\n    }\r\n\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n\r\n    if (operator === \"Tsel\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"1 Bulan\", () => kirimPesan(\"harga.td\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Jawa Timur\", () => kirimPesan(\"harga.jtm\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Jawa Tengah\", () => kirimPesan(\"harga.jtg\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Jawa Barat\", () => kirimPesan(\"harga.jbr\"))\r\n        );\r\n    }\r\n    else if (operator === \"Isat\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Freedom Internet\", () => kirimPesan(\"harga.if\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Freedom Unlimited\", () => kirimPesan(\"harga.iu\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Freedom Mini\", () => kirimPesan(\"harga.im\"))\r\n        );\r\n    }\r\n    else if (operator === \"XL\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Xtra Combo Flex\", () => kirimPesan(\"harga.xcf\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"XL Mini\", () => kirimPesan(\"harga.xm\"))\r\n        );\r\n    }\r\n    else if (operator === \"Axis\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"1 Bulan\", () => kirimPesan(\"harga.bro\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Axis Mini\", () => kirimPesan(\"harga.am\"))\r\n        );\r\n    }\r\n    else if (operator === \"Tri\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"AON\", () => kirimPesan(\"harga.aon\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Happy\", () => kirimPesan(\"harga.hap\"))\r\n        );\r\n    }\r\n    else if (operator === \"Smar\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Unlimited Harian\", () => kirimPesan(\"harga.suh\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Smartfren Unlimited\", () => kirimPesan(\"harga.sun\"))\r\n        );\r\n        extraButtons.appendChild(\r\n            createButton(\"Smartfren Mini\", () => kirimPesan(\"harga.sd\"))\r\n        );\r\n    }\r\n}\r\n", "import { createButton, showToast } from \"./utils.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\n\r\nexport function menuPaketNelpon(extraButtons, operatorDisplay, operator) {\r\n    if (!operator || operator === \"Unknown\") {\r\n        showToast(\"Nomor Tujuan Tidak Dikenali untuk Paket Nelpon\");\r\n        return;\r\n    }\r\n\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n\r\n    if (operator === \"Tsel\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Telkomsel Nelpon\", () => kirimPesan(\"harga.tn\"))\r\n        );\r\n    }\r\n    else if (operator === \"Isat\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Indosat Nelpon\", () => kirimPesan(\"harga.in\"))\r\n        );\r\n    }\r\n    else if (operator === \"XL\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"XL Nelpon\", () => kirimPesan(\"harga.xn\"))\r\n        );\r\n    }\r\n    else if (operator === \"Axis\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Axis Nelpon\", () => kirimPesan(\"harga.an\"))\r\n        );\r\n    }\r\n    else if (operator === \"Tri\") {\r\n        extraButtons.appendChild(\r\n            createButton(\"Tri Nelpon\", () => kirimPesan(\"harga.trn\"))\r\n        );\r\n    }\r\n}\r\n", "import { createButton, productCommand } from \"./utils.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\nconst inputTujuan = document.getElementById(\"inputTujuan\");\r\n\r\nexport function menuTokenListrik(extraButtons, operatorDisplay, operator) {\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n    extraButtons.appendChild(\r\n        createButton(\"Cek Nama Pemilik\", () => kirimPesan(\"cektoken.\" + inputTujuan.value))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Beli Token Listrik\", () => kirimPesan(productCommand(\"p\")))\r\n    );\r\n}\r\n", "import { createButton } from \"./utils.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\n\r\nexport function menuEwallet(extraButtons, operatorDisplay, operator) {\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n    extraButtons.appendChild(\r\n        createButton(\"Dana\", () => kirimPesan(\"harga.d\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Shopee Pay\", () => kirimPesan(\"harga.sp\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Gopay\", () => kirimPesan(\"harga.gp\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Ovo\", () => kirimPesan(\"harga.o\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Grab\", () => kirimPesan(\"harga.gr\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"LinkAja\", () => kirimPesan(\"harga.la\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Mandiri E-Money\", () => kirimPesan(\"harga.em\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"BNI TapCash\", () => kirimPesan(\"harga.bnitap\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"BRI Bizzi\", () => kirimPesan(\"harga.brizzi\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Maxim\", () => kirimPesan(\"harga.max\"))\r\n    );\r\n}\r\n", "import { createButton } from \"./utils.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\n\r\nexport function menuGames(extraButtons, operatorDisplay, operator) {\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n    extraButtons.appendChild(\r\n        createButton(\"Free Fire\", () => kirimPesan(\"harga.ff\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Mobile Legends\", () => kirimPesan(\"harga.ml\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"PUBG Mobile\", () => kirimPesan(\"harga.pm\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Point Blank\", () => kirimPesan(\"harga.pb\"))\r\n    );\r\n}\r\n", "import { createButton } from \"./utils.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\nconst inputTujuan = document.getElementById(\"inputTujuan\");\r\n\r\nexport function menuPaketTv(extraButtons, operatorDisplay, operator) {\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n    extraButtons.appendChild(\r\n        createButton(\"Nex Parabola\", () => kirimPesan(\"harga.nex\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"K-Vision\", () => kirimPesan(\"harga.kv\"))\r\n    );\r\n    extraButtons.appendChild(\r\n        createButton(\"Jawara Vision\", () => kirimPesan(\"harga.mnc\"))\r\n    );\r\n}\r\n", "import { createButton } from \"./utils.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\nconst inputTujuan = document.getElementById(\"inputTujuan\");\r\n\r\nexport function menuBayarListrik(extraButtons, operatorDisplay, operator) {\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n    extraButtons.appendChild(\r\n        createButton(\"Cek Tagihan Listrik\", () => kirimPesan(\"cpln.\" + inputTujuan.value))\r\n    );\r\n}\r\n", "import { createButton } from \"./utils.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\nconst inputTujuan = document.getElementById(\"inputTujuan\");\r\n\r\nexport function menuBayarBpjs(extraButtons, operatorDisplay, operator) {\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n    extraButtons.appendChild(\r\n        createButton(\"Cek Tagihan BPJS Kesehatan\", () => kirimPesan(\"cbpjsks.\" + inputTujuan.value))\r\n    );\r\n}\r\n", "import { createButton } from \"./utils.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\nconst inputTujuan = document.getElementById(\"inputTujuan\");\r\n\r\nexport function menuBayarIndihome(extraButtons, operatorDisplay, operator) {\r\n    extraButtons.style.display = \"block\";\r\n    operatorDisplay.textContent = operator;\r\n    extraButtons.appendChild(\r\n        createButton(\"Cek Tagihan Indihome\", () => kirimPesan(\"cindihome.\" + inputTujuan.value))\r\n    );\r\n}\r\n", "import { onMessage } from \"./xmppHelper.js\";\r\nimport { inputTujuan, operatorDisplay, extraButtons } from \"./inputHandler.js\";\r\nimport { showHargaItem } from \"./showHargaItem.js\";\r\nimport { showToast } from \"./utils.js\";\r\nimport { menuPulsa } from \"./menuPulsa.js\";\r\nimport { menuPaketData } from \"./menuPaketData.js\";\r\nimport { menuPaketNelpon } from \"./menuPaketNelpon.js\";\r\nimport { menuTokenListrik } from \"./menuTokenListrik.js\";\r\nimport { menuEwallet } from \"./menuEwallet.js\";\r\nimport { menuGames } from \"./menuGames.js\";\r\nimport { menuPaketTv } from \"./menuPaketTv.js\";\r\nimport { menuBayarListrik } from \"./menuBayarListrik.js\";\r\nimport { menuBayarBpjs } from \"./menuBayarBpjs.js\";\r\nimport { menuBayarIndihome } from \"./menuBayarIndihome.js\";\r\n\r\nconst menuGrid = document.getElementById(\"menuGrid\");\r\n\r\nexport const menuHandler = onMessage((responseText) => {\r\n    showHargaItem(responseText);\r\n});\r\n\r\nexport function showMenuKotak() {\r\n    const menus = [\r\n        { name: \"Pulsa\", emoji: \"\uD83D\uDCF1\" },\r\n        { name: \"Paket Data\", emoji: \"\uD83C\uDF10\" },\r\n        { name: \"Paket Nelpon & SMS\", emoji: \"\uD83D\uDCDE\" },\r\n        { name: \"Token Listrik\", emoji: \"\u26A1\" },\r\n        { name: \"E-Wallet\", emoji: \"\uD83D\uDCB3\" },\r\n        { name: \"Games\", emoji: \"\uD83C\uDFAE\" },\r\n        { name: \"Paket TV\", emoji: \"\uD83D\uDCFA\" },\r\n        { name: \"Bayar Listrik\", emoji: \"\uD83D\uDCA1\" },\r\n        { name: \"Bayar BPJS\", emoji: \"\uD83C\uDFE5\" },\r\n        { name: \"Bayar IndiHome\", emoji: \"\uD83D\uDCE1\" }\r\n    ];\r\n\r\n    if (menuGrid) {\r\n        menuGrid.innerHTML = \"\";\r\n\r\n        menus.forEach(menu => {\r\n            const div = document.createElement(\"div\");\r\n            div.className = \"menu-item\";\r\n            div.style.display = \"flex\";\r\n            div.style.flexDirection = \"column\";\r\n            div.style.alignItems = \"center\";\r\n            div.style.cursor = \"pointer\";\r\n\r\n            const emojiSpan = document.createElement(\"span\");\r\n            emojiSpan.textContent = menu.emoji;\r\n            emojiSpan.style.fontSize = \"2rem\";\r\n            emojiSpan.style.marginBottom = \"0.5rem\";\r\n\r\n            const p = document.createElement(\"p\");\r\n            p.textContent = menu.name;\r\n            p.style.margin = \"0\";\r\n\r\n            div.appendChild(emojiSpan);\r\n            div.appendChild(p);\r\n            menuGrid.appendChild(div);\r\n\r\n            div.addEventListener(\"click\", () => handleMenuClick(menu));\r\n        });\r\n    }\r\n}\r\n\r\n// ----------------------\r\n// Event handler: Menu\r\n// ----------------------\r\nexport function handleMenuClick(menu) {\r\n    if (!inputTujuan.value.trim()) {\r\n        showToast(\"Masukkan nomor tujuan terlebih dahulu\", \"error\");\r\n        inputTujuan.focus();\r\n        return;\r\n    }\r\n\r\n    extraButtons.innerHTML = \"\";\r\n    const operator = operatorDisplay.textContent;\r\n\r\n    if (menu.name === \"Pulsa\") {\r\n        menuPulsa(extraButtons, operatorDisplay, operator);\r\n    } else if (menu.name === \"Paket Data\") {\r\n        menuPaketData(extraButtons, operatorDisplay, operator);\r\n    } else if (menu.name === \"Paket Nelpon & SMS\") {\r\n        menuPaketNelpon(extraButtons, operatorDisplay, operator);\r\n    } else if (menu.name === \"Token Listrik\") {\r\n        menuTokenListrik(extraButtons, operatorDisplay, operator);\r\n    } else if (menu.name === \"E-Wallet\") {\r\n        menuEwallet(extraButtons, operatorDisplay, operator);\r\n    } else if (menu.name === \"Games\") {\r\n        menuGames(extraButtons, operatorDisplay, operator);\r\n    } else if (menu.name === \"Paket TV\") {\r\n        menuPaketTv(extraButtons, operatorDisplay, operator);\r\n    } else if (menu.name === \"Bayar Listrik\") {\r\n        menuBayarListrik(extraButtons, operatorDisplay, operator);\r\n    } else if (menu.name === \"Bayar BPJS\") {\r\n        menuBayarBpjs(extraButtons, operatorDisplay, operator);\r\n    } else if (menu.name === \"Bayar IndiHome\") {\r\n        menuBayarIndihome(extraButtons, operatorDisplay, operator);\r\n    } else {\r\n        showToast(\"Menu belum siap\", \"error\");\r\n    }\r\n\r\n    // \u2B07\uFE0F Scroll otomatis ke atas homeDisplay\r\n    const homeDisplay = document.getElementById(\"homeDisplay\");\r\n    if (homeDisplay) {\r\n        homeDisplay.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n    }\r\n}\r\n", "import { getLaporanTransaksi } from \"./showLaporanTransaksi.js\";\r\n\r\nexport function renderLaporanHeader(line, header, list) {\r\n    // tandai laporan terbuka\r\n    window.laporanTerbuka = true;\r\n\r\n    if (header.hasChildNodes()) return; // sudah ada header \u2192 jangan render lagi\r\n\r\n    // wrapper utama header\r\n    const headerWrapper = document.createElement(\"div\");\r\n    headerWrapper.style.display = \"flex\";\r\n    headerWrapper.style.flexDirection = \"column\";\r\n    headerWrapper.style.alignItems = \"center\";\r\n    headerWrapper.style.marginBottom = \"0.5rem\";\r\n\r\n    // judul besar di atas\r\n    const title = document.createElement(\"div\");\r\n    title.textContent = \"Laporan Transaksi Hari Ini\";\r\n    title.style.fontWeight = \"bold\";\r\n    title.style.fontSize = \"1.1rem\";\r\n    title.style.marginBottom = \"0.3rem\";\r\n    headerWrapper.appendChild(title);\r\n\r\n    // baris tanggal + tombol kanan\r\n    const row = document.createElement(\"div\");\r\n    row.style.display = \"flex\";\r\n    row.style.justifyContent = \"space-between\";\r\n    row.style.alignItems = \"center\";\r\n    row.style.width = \"100%\";\r\n\r\n    const headerText = document.createElement(\"div\");\r\n    headerText.style.fontWeight = \"bold\";\r\n    headerText.textContent = line;\r\n\r\n    const btnGroup = document.createElement(\"div\");\r\n    btnGroup.style.display = \"flex\";\r\n    btnGroup.style.gap = \"0.3rem\";\r\n\r\n    const refreshBtn = document.createElement(\"button\");\r\n    refreshBtn.innerHTML = \"\uD83D\uDD04\";\r\n    refreshBtn.className = \"outline\";\r\n    refreshBtn.style.fontSize = \"1.6rem\";  // ikon besar\r\n    refreshBtn.style.padding = \"0rem 0rem\"; // tombol kecil\r\n    refreshBtn.style.cursor = \"pointer\";\r\n    refreshBtn.addEventListener(\"click\", () => {\r\n        refreshBtn.disabled = true;\r\n        getLaporanTransaksi();\r\n        setTimeout(() => {\r\n            refreshBtn.disabled = false;\r\n        }, 3000);\r\n    });\r\n\r\n    btnGroup.appendChild(refreshBtn);\r\n\r\n    row.appendChild(headerText);\r\n    row.appendChild(btnGroup);\r\n\r\n    headerWrapper.appendChild(row);\r\n    header.appendChild(headerWrapper);\r\n}\r\n", "// file: shareStruk.js\r\nimport { showToast } from \"./utils.js\";\r\n\r\nexport async function shareStruk(parsed, tanggal, hargaJual) {\r\n    try {\r\n        let jenisProduk = \"PRODUK DIGITAL\";\r\n\r\n        if (/^pln/i.test(parsed.kode)) {\r\n            jenisProduk = \"TAGIHAN LISTRIK PASCABAYAR\";\r\n        } else if (/^p/i.test(parsed.kode)) {\r\n            jenisProduk = \"TOKEN LISTRIK\";\r\n        } else if (/^td/i.test(parsed.kode)) {\r\n            jenisProduk = \"PAKET DATA\";\r\n        } else if (/^tr/i.test(parsed.kode)) {\r\n            jenisProduk = \"PULSA TRI\";\r\n        } else if (/^i/i.test(parsed.kode)) {\r\n            jenisProduk = \"PULSA INDOSAT\";\r\n        } else if (/^s/i.test(parsed.kode)) {\r\n            jenisProduk = \"PULSA SMARTFREN\";\r\n        } else if (/^x/i.test(parsed.kode)) {\r\n            jenisProduk = \"PULSA XL\";\r\n        } else if (/^a/i.test(parsed.kode)) {\r\n            jenisProduk = \"PULSA AXIS\";\r\n        } else if (/^t(?!d)/i.test(parsed.kode)) {\r\n            jenisProduk = \"PULSA TELKOMSEL\";\r\n        }\r\n\r\n        // harga jual dari mapping, fallback ke harga modal\r\n        const harga = hargaJual;\r\n\r\n        // Admin hanya untuk PLN Pascabayar\r\n        const admin = /^pln/i.test(parsed.kode) ? 3000 : 0;\r\n        const total = hargaJual + admin;\r\n\r\n        const namaAgen = localStorage.getItem(\"nama_agen\") || \"\";\r\n\r\n        const fontSize = 20;\r\n        const textWidth = namaAgen.length * (fontSize * 0.6);\r\n\r\n        // hitung diagonal tapi kurangi buffer agar tile lebih rapat\r\n        const diagonal = Math.sqrt(textWidth ** 2 + (fontSize * 2) ** 2);\r\n        const tileSize = Math.ceil(diagonal) - 0; // \uD83D\uDD39 buffer kecil saja\r\n\r\n        const cx = tileSize / 2;\r\n        const cy = tileSize / 2;\r\n\r\n        const watermarkSVG = `\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${tileSize}\" height=\"${tileSize}\">\r\n  <g transform=\"rotate(-45, ${cx}, ${cy})\">\r\n    <!-- teks watermark -->\r\n    <text x=\"10\" y=\"${cy}\" font-size=\"${fontSize}\" font-family=\"monospace\"\r\n          fill=\"black\" fill-opacity=\"0.2\">\r\n      ${namaAgen}\r\n    </text>\r\n  </g>\r\n</svg>`;\r\n\r\n        const encoded = encodeURIComponent(watermarkSVG);\r\n\r\n        // Container temp\r\n        const tempDiv = document.createElement(\"div\");\r\n        tempDiv.innerHTML = `\r\n          <div class=\"struk\" style=\"\r\n                font-family: monospace;\r\n                font-weight: bold;\r\n                font-size: 18px;\r\n                width: 450px;\r\n                color: #000;\r\n                padding: 20px;\r\n                background: #fff url('data:image/svg+xml,${encoded}') repeat;\r\n                background-size: ${tileSize * 0.6}px ${tileSize * 0.6}px; /* \uD83D\uDD39 scale down 80% */\r\n          \">\r\n              <div style=\"text-align:center; font-size: 26px\">${namaAgen}</div>\r\n              <div style=\"text-align:center; font-size: 22px\">-- STRUK BUKTI PEMBELIAN --</div>\r\n              <div style=\"text-align:center; font-size: 22px\">${jenisProduk}</div>\r\n              <hr style=\"border:2px dashed black; margin:5px 0;\">\r\n              <div>TGL   : ${tanggal} ${parsed.waktu}</div>\r\n              <div>NOMOR : ${parsed.tujuan}</div>\r\n              <div>KODE  : ${parsed.kode}</div>\r\n              <div>SN    : ${parsed.sn}</div>\r\n              <div style=\"text-align:center; margin-top:5px; margin-bottom:5px;\">\r\n                ------- RINCIAN PEMBAYARAN -------\r\n              </div>\r\n              <div>HARGA : Rp${harga.toLocaleString(\"id-ID\")}</div>\r\n              <div>ADMIN : Rp${admin.toLocaleString(\"id-ID\")}</div>\r\n              <div style=\"font-size: 18px\">TOTAL HARGA : Rp${total.toLocaleString(\"id-ID\")}</div>\r\n              <hr style=\"border:2px dashed black; margin:5px 0;\">\r\n              <div style=\"text-align:center; font-size: 22px\">SIMPANLAH STRUK INI</div>\r\n              <div style=\"text-align:center; font-size: 22px\">SEBAGAI BUKTI PEMBELIAN ANDA</div>\r\n              <div style=\"text-align:center; font-size: 22px;\">TERIMA KASIH</div>\r\n          </div>\r\n        `;\r\n        document.body.appendChild(tempDiv);\r\n\r\n        // \uD83D\uDD39 Generate gambar struk\r\n        const canvas = await html2canvas(tempDiv.querySelector(\".struk\"), { scale: 2, backgroundColor: \"#ffffff\" });\r\n        document.body.removeChild(tempDiv);\r\n\r\n        const dataUrl = canvas.toDataURL(\"image/jpeg\");\r\n        const blob = await (await fetch(dataUrl)).blob();\r\n        const file = new File([blob], \"struk-transaksi.jpeg\", { type: \"image/jpeg\" });\r\n\r\n        if (navigator.canShare && navigator.canShare({ files: [file] })) {\r\n            await navigator.share({\r\n                title: \"Struk Transaksi\",\r\n                text: \"Berikut struk transaksi Anda\",\r\n                files: [file],\r\n            });\r\n        } else if (navigator.share) {\r\n            await navigator.share({\r\n                title: \"Struk Transaksi\",\r\n                text: `STRUK BUKTI PEMBELIAN\r\nJenis Produk : ${jenisProduk}\r\nTGL: ${tanggal} ${parsed.waktu}\r\nNOMOR : ${parsed.tujuan}\r\nSERIAL NUMBER : ${parsed.sn}\r\nHARGA : Rp${harga.toLocaleString(\"id-ID\")}\r\nADMIN : Rp${admin.toLocaleString(\"id-ID\")}\r\nTOTAL : Rp${total.toLocaleString(\"id-ID\")}\r\nSIMPANLAH STRUK INI SEBAGAI BUKTI PEMBELIAN ANDA\r\nTERIMA KASIH`,\r\n            });\r\n        } else {\r\n            showToast(\"\u274C Web Share API tidak didukung di browser ini.\", \"error\");\r\n        }\r\n    } catch (err) {\r\n        showToast(\"Gagal membagikan struk.\", \"error\");\r\n    }\r\n}\r\n", "// file: hargaJualMap.js\r\n\r\n// mapping khusus kode yang tidak ikut aturan nominal\r\nconst specialMap = {\r\n    \"xcf1\": 24000,\r\n    \"td2\": 32000,\r\n    \"xcf1a\": 18000\r\n};\r\n\r\n// daftar prefix yang pakai aturan nominal\r\nconst prefixes = [\r\n    \"t\", \"i\", \"a\", \"x\", \"s\", \"tr\", \"b\", \"p\", \"d\", \"sp\",\r\n    \"gp\", \"o\", \"gr\", \"la\", \"em\", \"bnitap\", \"brizzi\", \"max\"\r\n];\r\n\r\n// fungsi untuk fallback perhitungan (modal + 1500 dibulatkan ke 500 atas)\r\nfunction hitungHargaJualDefault(hargaModal) {\r\n    const minimal = hargaModal + 1500;\r\n    const kelipatan = 500;\r\n    return Math.ceil(minimal / kelipatan) * kelipatan;\r\n}\r\n\r\nexport function getHargaJual(kode, hargaModal) {\r\n    if (!kode) return hitungHargaJualDefault(hargaModal);\r\n\r\n    const lowerKode = kode.toLowerCase();\r\n\r\n    // cek mapping khusus dulu\r\n    if (specialMap[lowerKode]) {\r\n        return specialMap[lowerKode];\r\n    }\r\n\r\n    // cek apakah awalan cocok dengan daftar prefix\r\n    for (const prefix of prefixes) {\r\n        if (lowerKode.startsWith(prefix)) {\r\n            const nominalPart = lowerKode.slice(prefix.length);\r\n\r\n            // jika ada nominal angka\r\n            if (/^\\d+$/.test(nominalPart)) {\r\n                const nominal = parseInt(nominalPart, 10);\r\n                return (nominal + 3) * 1000;\r\n            }\r\n\r\n            // jika tidak ada nominal angka \u2192 harga modal\r\n            return hargaModal;\r\n        }\r\n    }\r\n\r\n    // fallback terakhir \u2192 pakai aturan keuntungan minimal 1500 + pembulatan 500\r\n    return hitungHargaJualDefault(hargaModal);\r\n}\r\n", "import { showToast } from \"./utils.js\";\r\n\r\n// file: printThermal.js\r\nlet printCharacteristic = null;\r\n\r\nasync function connectPrinter() {\r\n  const device = await navigator.bluetooth.requestDevice({\r\n    filters: [{ services: [\"000018f0-0000-1000-8000-00805f9b34fb\"] }]\r\n  });\r\n  const server = await device.gatt.connect();\r\n  const service = await server.getPrimaryService(\"000018f0-0000-1000-8000-00805f9b34fb\");\r\n  printCharacteristic = await service.getCharacteristic(\"00002af1-0000-1000-8000-00805f9b34fb\");\r\n}\r\n\r\nasync function sendToPrinter(text) {\r\n  if (!printCharacteristic) {\r\n    await connectPrinter();\r\n  }\r\n  if (printCharacteristic) {\r\n    const encoder = new TextEncoder(\"utf-8\");\r\n    const data = encoder.encode(text + \"\\n\\r\\n\\r\\n\\r\\n\\r\"); // margin bawah\r\n    await printCharacteristic.writeValue(data);\r\n  }\r\n}\r\n\r\n// \uD83D\uDD39 Export fungsi print struk thermal\r\nexport async function printThermalStruk(parsed, tanggal, hargaJual) {\r\n  // copy logika dari shareStruk.js, tapi buat versi text sederhana untuk thermal\r\n  let jenisProduk = \"PRODUK DIGITAL\";\r\n  if (/^pln/i.test(parsed.kode)) jenisProduk = \"TAGIHAN LISTRIK PASCABAYAR\";\r\n  else if (/^p/i.test(parsed.kode)) jenisProduk = \"TOKEN LISTRIK\";\r\n  else if (/^td/i.test(parsed.kode)) jenisProduk = \"PAKET DATA\";\r\n  else if (/^tr/i.test(parsed.kode)) jenisProduk = \"PULSA TRI\";\r\n  else if (/^i/i.test(parsed.kode)) jenisProduk = \"PULSA INDOSAT\";\r\n  else if (/^s/i.test(parsed.kode)) jenisProduk = \"PULSA TFREN\";\r\n  else if (/^x/i.test(parsed.kode)) jenisProduk = \"PULSA XL\";\r\n  else if (/^a/i.test(parsed.kode)) jenisProduk = \"PULSA AXIS\";\r\n  else if (/^t(?!d)/i.test(parsed.kode)) jenisProduk = \"PULSA TELKOMSEL\";\r\n\r\n  const admin = /^pln/i.test(parsed.kode) ? 3000 : 0;\r\n  const total = hargaJual + admin;\r\n  const namaAgen = localStorage.getItem(\"nama_agen\") || \"\";\r\n\r\n  // \uD83D\uDD39 Format struk khusus thermal printer (plain text)\r\n  const strukText = `\r\n${namaAgen}\r\n${tanggal} ${parsed.waktu}\r\n-- STRUK BUKTI PEMBELIAN --\r\n${jenisProduk}\r\n------------------------------\r\nNOMOR : ${parsed.tujuan}\r\nKODE  : ${parsed.kode}\r\nSN    : ${parsed.sn}\r\n------------------------------\r\nHARGA : Rp${hargaJual.toLocaleString(\"id-ID\")}\r\nADMIN : Rp${admin.toLocaleString(\"id-ID\")}\r\nTOTAL : Rp${total.toLocaleString(\"id-ID\")}\r\n------------------------------\r\nSIMPANLAH STRUK INI\r\nSEBAGAI BUKTI PEMBELIAN ANDA\r\nTERIMA KASIH\r\n`;\r\n\r\n  try {\r\n    await sendToPrinter(strukText);\r\n    showToast(\"\u2705 Struk berhasil dikirim ke printer thermal\", \"success\");\r\n  } catch (err) {\r\n    showToast(\"\u274C Gagal print: \" + err, \"error\");\r\n  }\r\n}\r\n", "// file: klikDetailLaporan.js\r\nimport { showModalCustom } from \"./modal.js\";\r\nimport { normalizeRupiah, showToast } from \"./utils.js\";\r\nimport { shareStruk } from \"./shareStruk.js\";\r\nimport { getHargaJual } from \"./hargaJualMap.js\";\r\nimport { printThermalStruk } from \"./printThermal.js\"; // \u2B05\uFE0F import baru\r\n\r\nfunction getHargaTerbaru(fallback) {\r\n    const el = document.getElementById(\"hargaJualInput\");\r\n    if (!el) return fallback;\r\n    const raw = el.textContent.replace(/[^\\d]/g, \"\");\r\n    return parseInt(raw || \"0\", 10) || fallback;\r\n}\r\n\r\n\r\nexport async function klikDetailLaporan(parsed, tanggal) {\r\n    const hargaModal = normalizeRupiah(parsed.harga);\r\n    const kode = parsed.kode ? parsed.kode.toLowerCase() : \"\";\r\n\r\n    // hitung harga jual pakai aturan baru\r\n    let hargaJual = getHargaJual(kode, hargaModal); // let supaya bisa diubah\r\n\r\n    const keuntungan = () => hargaJual - hargaModal; // fungsi biar update otomatis\r\n\r\n    // buat ID unik untuk elemen hargaJual supaya bisa diakses\r\n    const hargaJualId = \"hargaJualInput\";\r\n\r\n    const message = `<table class=\"detail-table-laporan-modal\">\r\n<tr><td>Waktu Pengisian</td><td>${tanggal} ${parsed.waktu}</td></tr>\r\n<tr><td>Kode Produk</td><td>${parsed.kode}</td></tr>\r\n<tr><td>Nomor Tujuan</td><td>${parsed.tujuan}</td></tr>\r\n<tr><td>Serial Number</td><td>${parsed.sn}</td></tr>\r\n<tr><td>Status Transaksi</td><td>${parsed.status}</td></tr>\r\n</table>\r\n<table class=\"detail-table-laporan-modal\">\r\n<tr><td>Harga Modal</td><td>Rp${hargaModal.toLocaleString(\"id-ID\")}</td></tr>\r\n<tr><td>Saran Harga Jual</td><td><span id=\"editHarga\" style=\"cursor:pointer;\">\u270F\uFE0F </span><span id=\"${hargaJualId}\">Rp${hargaJual.toLocaleString(\"id-ID\")}</span></td></tr>\r\n<tr><td>Keuntungan</td><td id=\"keuntungan\">Rp${keuntungan().toLocaleString(\"id-ID\")}</td></tr>\r\n</table>`;\r\n\r\n    const invalidSN = [\"-\", \"NA\", \"N/A\", \"n/a\", \"N.A\", \"Update\", \"UPDATE\"];\r\n    const isSNInvalid = invalidSN.includes((parsed.sn || \"\").trim());\r\n\r\n    showModalCustom({\r\n        title: \"DETAIL TRANSAKSI\",\r\n        message,\r\n        buttons: [\r\n            {\r\n                text: \"\uD83D\uDDBC\uFE0F Bagikan\",\r\n                className: \"modal-share\",\r\n                onClick: () => shareStruk(parsed, tanggal, getHargaTerbaru(hargaJual)),\r\n                disabled: isSNInvalid\r\n            },\r\n            {\r\n                text: \"\uD83D\uDCDD Komplain\",\r\n                className: \"modal-complain\",\r\n                onClick: () => {\r\n                    const pesan = `Mohon bantu cek transaksi berikut:\r\n\r\nTanggal : ${tanggal} jam ${parsed.waktu}\r\nKode Produk : ${parsed.kode}\r\nTujuan : ${parsed.tujuan}\r\nSerial Number : ${parsed.sn}\r\nStatus : ${parsed.status}\r\nTerima kasih.\r\n`;\r\n                    const nomorWA = \"6283100100190\";\r\n                    const url = `https://wa.me/${nomorWA}?text=${encodeURIComponent(pesan)}`;\r\n                    window.open(url, \"_blank\");\r\n                }\r\n            },\r\n            {\r\n                text: \"\uD83D\uDDA8\uFE0F Print\",\r\n                className: \"modal-print\",\r\n                onClick: () => printThermalStruk(parsed, tanggal, getHargaTerbaru(hargaJual))\r\n                ,\r\n                disabled: isSNInvalid\r\n            }\r\n        ]\r\n    });\r\n\r\n    // \uD83D\uDD39 Tambahkan listener klik untuk emoji edit\r\n    const editBtn = document.getElementById(\"editHarga\");\r\n    editBtn.onclick = () => {\r\n        // sembunyikan tombol edit\r\n        editBtn.style.display = \"none\";\r\n\r\n        const hargaSpan = document.getElementById(hargaJualId);\r\n        const currentVal = hargaJual;\r\n\r\n        hargaSpan.innerHTML = `<input id=\"inputHargaInline\" type=\"text\" value=\"${currentVal.toLocaleString(\"id-ID\")}\" style=\"padding:0; margin:0; width:80px; height:1.2em; line-height:1.2em; border:1px solid #ccc; vertical-align:middle; text-align:right;\"><span id=\"btnSimpanInline\" style=\"cursor:pointer; margin-left:4px;\">\u2705</span><span id=\"btnBatalInline\" style=\"cursor:pointer; margin-left:4px;\">\u274C</span>`;\r\n\r\n        const inputEl = document.getElementById(\"inputHargaInline\");\r\n\r\n        // enter = simpan harga\r\n        inputEl.addEventListener(\"keydown\", (e) => {\r\n            if (e.key === \"Enter\") {\r\n                e.preventDefault(); // biar ga ada efek default\r\n                document.getElementById(\"btnSimpanInline\").click();\r\n            } else if (e.key === \"Escape\") {\r\n                // kalau pencet ESC = batal\r\n                document.getElementById(\"btnBatalInline\").click();\r\n            }\r\n        });\r\n\r\n        // \uD83D\uDD39 Format ribuan otomatis saat mengetik (cursor tetap terjaga)\r\n        inputEl.addEventListener(\"input\", () => {\r\n            let start = inputEl.selectionStart;\r\n            let end = inputEl.selectionEnd;\r\n\r\n            // Ambil hanya angka\r\n            let raw = inputEl.value.replace(/\\D/g, \"\");\r\n\r\n            if (raw) {\r\n                const formatted = parseInt(raw, 10).toLocaleString(\"id-ID\");\r\n\r\n                // Hitung pergeseran posisi kursor akibat penambahan titik ribuan\r\n                const before = inputEl.value;\r\n                const diff = formatted.length - before.length;\r\n\r\n                inputEl.value = formatted;\r\n\r\n                // Kembalikan posisi kursor (disesuaikan dengan perubahan panjang)\r\n                inputEl.setSelectionRange(start + diff, end + diff);\r\n            } else {\r\n                inputEl.value = \"\";\r\n            }\r\n        });\r\n\r\n\r\n        document.getElementById(\"btnSimpanInline\").onclick = () => {\r\n            let raw = inputEl.value.replace(/\\D/g, \"\"); // ambil angka asli\r\n            const val = parseFloat(raw);\r\n            if (!isNaN(val) && val > 0) {\r\n                hargaJual = val;\r\n                hargaSpan.textContent = \"Rp\" + hargaJual.toLocaleString(\"id-ID\");\r\n                document.getElementById(\"keuntungan\").textContent =\r\n                    \"Rp\" + (hargaJual - hargaModal).toLocaleString(\"id-ID\");\r\n            } else {\r\n                showToast(\"Harga tidak valid!\", \"error\");\r\n                hargaSpan.textContent = \"Rp\" + hargaJual.toLocaleString(\"id-ID\");\r\n            }\r\n            // tampilkan kembali tombol edit\r\n            editBtn.style.display = \"inline\";\r\n        };\r\n\r\n        document.getElementById(\"btnBatalInline\").onclick = () => {\r\n            hargaSpan.textContent = \"Rp\" + hargaJual.toLocaleString(\"id-ID\");\r\n            // tampilkan kembali tombol edit\r\n            editBtn.style.display = \"inline\";\r\n        };\r\n    };\r\n\r\n}\r\n", "//file renderLaporanItem.js\r\nimport { klikDetailLaporan } from \"./klikDetailLaporan.js\";\r\n\r\nexport function renderLaporanItem(parsed, list, tanggal) {\r\n    if (!parsed || !list) return;\r\n\r\n    const div = document.createElement(\"div\");\r\n    div.className = \"laporan-item\";\r\n    div.style.display = \"grid\";\r\n    div.style.gridTemplateColumns = \"1fr auto\";\r\n    div.style.alignItems = \"flex-start\";\r\n    div.style.padding = \"0.25rem 0.5rem\";\r\n    div.style.borderBottom = \"1px solid #ddd\";\r\n    div.style.gap = \"0.5rem\";\r\n    div.style.fontSize = \"0.85rem\";\r\n\r\n    // kiri\r\n    const left = document.createElement(\"div\");\r\n    left.innerHTML = `\r\n    <div><b>${parsed.kode}</b> \u2192 ${parsed.tujuan} \u2192 Rp.${parsed.harga}</div>\r\n    <div class=\"sn-text\">SN: ${parsed.sn}</div>\r\n`;\r\n\r\n    // kanan\r\n    const right = document.createElement(\"div\");\r\n    right.style.display = \"flex\";\r\n    right.style.flexDirection = \"column\";\r\n    right.style.alignItems = \"flex-end\";\r\n    right.style.whiteSpace = \"nowrap\";\r\n    right.innerHTML = `\r\n        <div style=\"font-weight:bold\">${parsed.waktu}</div>\r\n        <div>${parsed.status}</div>\r\n    `;\r\n\r\n    // warna status\r\n    const statusText = parsed.status.toLowerCase();\r\n    if (statusText.includes(\"sukses\")) {\r\n        div.classList.add(\"success\");\r\n    } else if (statusText.includes(\"gagal\") || statusText.includes(\"timeout\")) {\r\n        div.classList.add(\"failed\");\r\n    } else {\r\n        div.classList.add(\"proses\");\r\n    }\r\n\r\n\r\n    div.appendChild(left);\r\n    div.appendChild(right);\r\n    list.appendChild(div);\r\n\r\n    // === event klik untuk tampilkan modal detail ===\r\n    div.addEventListener(\"click\", () => klikDetailLaporan(parsed, tanggal));\r\n\r\n}\r\n", "//file showLaporanTransaksi.js\r\nimport { renderLaporanHeader } from \"./renderLaporanHeader.js\";\r\nimport { renderLaporanItem } from \"./renderLaporanItem.js\";\r\nimport { kirimPesan, onMessage } from \"./xmppHelper.js\";\r\n\r\n// handler untuk laporan\r\nexport const laporanHandler = onMessage((responseText) => {\r\n    tampilkanLaporanTransaksi(responseText);\r\n});\r\n\r\nconst laporanTransaksiDisplay = document.getElementById(\"laporanTransaksiDisplay\");\r\nlet tanggalSekarang = null; // pakai let supaya bisa diubah\r\n\r\nexport function showLaporanTransaksi() {\r\n    const navRiwayat = document.getElementById(\"navRiwayat\");\r\n    const today = new Date();\r\n\r\n    // Ambil tanggal WIB (Asia/Jakarta)\r\n    const wibDate = new Date(\r\n        today.toLocaleString(\"en-US\", { timeZone: \"Asia/Jakarta\" })\r\n    );\r\n\r\n    tanggalSekarang = wibDate.getDate();\r\n    navRiwayat.addEventListener(\"click\", getLaporanTransaksi);\r\n}\r\n\r\nexport function getLaporanTransaksi() {\r\n    kirimPesan(`laporan.${tanggalSekarang}`);\r\n    laporanTransaksiDisplay.style.display = \"block\";\r\n}\r\n\r\nwindow.laporanTerbuka = false; // flag global\r\n\r\n// === helper untuk parse baris laporan ===\r\nfunction parseLaporanLine(line) {\r\n    const regex = /^#(\\S+)\\s+ke\\s+(\\S+)\\s+Rp\\.([\\d.]+)\\s+#([\\s\\S]*?)\\s*@(\\d{2}:\\d{2})\\s+Status=([^;]+);?$/i;\r\n    const match = line.match(regex);\r\n\r\n    if (!match) return null;\r\n\r\n    let sn = match[4].trim();\r\n    if (sn === \"\") sn = \"-\";\r\n\r\n    // \u2728 filter khusus untuk CEKTOKEN\r\n    if (match[1] === \"CEKTOKEN\" && sn.includes(\"NAMA =\")) {\r\n        // ambil hanya baris identitas (NAMA, NO.METER, TARIF DAYA)\r\n        const identitasMatch = sn.match(/NAMA\\s*=\\s*.*?NO\\.METER\\s*=\\s*.*?TARIF DAYA\\s*=\\s*.*?(?=$|UNTUK)/s);\r\n        if (identitasMatch) {\r\n            sn = identitasMatch[0]\r\n                .replace(/\\s+/g, \" \") // rapikan spasi\r\n                .trim();\r\n        }\r\n    }\r\n\r\n    return {\r\n        kode: match[1],\r\n        tujuan: match[2],\r\n        harga: match[3],\r\n        sn,\r\n        waktu: match[5],\r\n        status: match[6].trim()\r\n    };\r\n}\r\n\r\n\r\n// === render laporan ke layar ===\r\nfunction tampilkanLaporanTransaksi(dataText) {\r\n    const header = document.getElementById(\"laporanHeader\");\r\n    const list = document.getElementById(\"laporanList\");\r\n    if (!list) return;\r\n\r\n    const rawLines = dataText.split(\"\\n\").map(l => l.trim());\r\n    const lines = rawLines.filter(l => l);\r\n\r\n    // jika laporan sedang terbuka dan tidak ada baris Tgl \u2192 abaikan\r\n    if (window.laporanTerbuka && !lines.some(l => l.startsWith(\"Tgl\"))) {\r\n        return;\r\n    }\r\n\r\n    list.innerHTML = \"\";\r\n\r\n    const ambilTanggal = lines.find(l => l.startsWith(\"Tgl\")) || \"\";\r\n    const tanggalSaja = ambilTanggal.replace(/^Tgl\\.\\s*/, \"\").replace(\"N/A\", \"\").trim();\r\n\r\n    let buffer = \"\"; // untuk gabung multiline transaksi\r\n    lines.forEach(line => {\r\n        if (line.startsWith(\"Tgl\")) {\r\n            if (line.includes(\"N/A\")) {\r\n                // contoh: \"Tgl. 27/08/25N/A\"\r\n                const tanggal = line.replace(\"N/A\", \"\").trim();\r\n                renderLaporanHeader(tanggal, header, list);\r\n\r\n                // tampilkan pesan \"belum tersedia\"\r\n                const info = document.createElement(\"div\");\r\n                info.textContent = \"Belum ada transaksi\";\r\n                info.style.textAlign = \"center\";\r\n                info.style.padding = \"1rem\";\r\n                info.style.color = \"#666\";\r\n                list.appendChild(info);\r\n            } else {\r\n                renderLaporanHeader(line, header, list);\r\n            }\r\n        } else if (line.startsWith(\"#\")) {\r\n            buffer = line; // mulai kumpulin\r\n            if (line.includes(\"Status=\")) {\r\n                // single line transaksi\r\n                const parsed = parseLaporanLine(buffer);\r\n                if (parsed) renderLaporanItem(parsed, list, tanggalSaja);\r\n                buffer = \"\";\r\n            }\r\n        } else if (buffer) {\r\n            buffer += \" \" + line; // gabung baris tambahan\r\n            if (line.includes(\"Status=\")) {\r\n                // selesai kumpulin \u2192 parse\r\n                const parsed = parseLaporanLine(buffer);\r\n                if (parsed) renderLaporanItem(parsed, list, tanggalSaja);\r\n                else console.warn(\"\u274C Gagal parse:\", buffer);\r\n                buffer = \"\";\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n", "// file: notifikasiTransaksi.js\r\nimport { showToast } from \"./utils.js\";\r\nimport { showModalCustom } from \"./modal.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\nimport { normalizeRupiah } from \"./utils.js\";\r\n\r\nexport function notifikasiTransaksi(msg) {\r\n    const elems = msg.getElementsByTagName(\"body\");\r\n\r\n    if (elems.length > 0) {\r\n        const body = elems[0].textContent.trim();\r\n\r\n        // \uD83D\uDD39 Abaikan jika pesan adalah laporan saldo akun (bukan transaksi)\r\n        if (/^Yth\\.\\s*AGEN PULSA/i.test(body) && /(Saldo|Bonus|Poin|Pemakaian)/i.test(body)) {\r\n            return true;\r\n        }\r\n\r\n        // \uD83D\uDD39 Pesan tunggu/diproses\r\n        if (/Mohon tunggu transaksi sebelumnya selesai/i.test(body) || /masih diproses operator/i.test(body)) {\r\n            showToast(body, \"success\", 5000);\r\n            return true;\r\n        }\r\n\r\n        // \uD83D\uDD39 Kasus khusus: CEKTOKEN (bukan laporan \"Tgl.\")\r\n        if (/^CEKTOKEN/i.test(body) && /NAMA\\s*=/i.test(body)) {\r\n            const nama = body.match(/NAMA\\s*=\\s*(.*)/i)?.[1] || \"-\";\r\n            const noMeter = body.match(/NO\\.METER\\s*=\\s*(.*)/i)?.[1] || \"-\";\r\n            const tarif = body.match(/TARIF DAYA\\s*=\\s*(.*)/i)?.[1] || \"-\";\r\n\r\n            const message = `<table class=\"detail-table-laporan-modal\">\r\n                <tr><td>Nama</td><td>${nama}</td></tr>\r\n                <tr><td>No. Meter</td><td>${noMeter}</td></tr>\r\n                <tr><td>Tarif Daya</td><td>${tarif}</td></tr>\r\n            </table>`;\r\n\r\n            showModalCustom({\r\n                title: \"Info Nomor Token Pelanggan\",\r\n                message,\r\n                buttons: [\r\n                    {\r\n                        text: \"OK\",\r\n                        className: \"modal-ok\",\r\n                        onClick: () => {\r\n                            const inputTujuan = document.getElementById(\"inputTujuan\");\r\n                            kirimPesan(\"harga.p\");\r\n                            if (inputTujuan && !inputTujuan.value.trim()) {\r\n                                inputTujuan.value = noMeter;\r\n                                inputTujuan.dispatchEvent(new Event(\"input\", { bubbles: true }));\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n            return true;\r\n        }\r\n\r\n        // \uD83D\uDD39 Kasus khusus: CEK TAGIHAN PLN\r\n        if (/CEK TAGIHAN PLN/i.test(body) && /NAMA=/i.test(body)) {\r\n            // Ambil ID Pelanggan dari header\r\n            const idMatch = body.match(/CEK TAGIHAN PLN ke\\s+(\\d+)/i);\r\n            const idPelanggan = idMatch ? idMatch[1] : \"-\";\r\n\r\n            // Ambil blok SN/Ref\r\n            const snRefMatch = body.match(/SN\\/Ref:\\s*([^,]+)/i);\r\n            if (snRefMatch) {\r\n                const snRef = snRefMatch[1].trim();\r\n\r\n                // Parse dengan delimiter '@'\r\n                const parts = snRef.split(\"@\");\r\n                let data = {};\r\n                parts.forEach(p => {\r\n                    const [k, v] = p.split(\"=\");\r\n                    if (k && v) data[k.trim()] = v.trim();\r\n                });\r\n\r\n                const nama = data[\"NAMA\"] || \"-\";\r\n                const td = data[\"TD\"] || \"-\";\r\n                const jbln = data[\"JBLN\"] || \"-\";\r\n                const ptag = data[\"PTAG\"] || \"-\";\r\n                const tag = data[\"TAG\"] || \"0\";\r\n                const adm = data[\"ADM\"] || \"0\";\r\n                const ttag = data[\"TTAG\"] || \"0\";\r\n\r\n                // \uD83D\uDD39 Formatter Rupiah\r\n                const formatRp = (val) => {\r\n                    const num = normalizeRupiah(val);\r\n                    return \"Rp\" + num.toLocaleString(\"id-ID\");\r\n                };\r\n\r\n                const message = `<table class=\"detail-table-laporan-modal\">\r\n            <tr><td>ID Pelanggan</td><td>${idPelanggan}</td></tr>\r\n            <tr><td>Nama</td><td>${nama}</td></tr>\r\n            <tr><td>Tarif Daya</td><td>${td}</td></tr>\r\n            <tr><td>Jumlah Bulan</td><td>${jbln}</td></tr>\r\n            <tr><td>Periode Tagihan</td><td>${ptag}</td></tr>\r\n            <tr><td>Tagihan</td><td>${formatRp(tag)}</td></tr>\r\n            <tr><td>Biaya Admin</td><td>${formatRp(adm)}</td></tr>\r\n            <tr><td>Total Tagihan</td><td>${formatRp(ttag)}</td></tr>\r\n        </table>`;\r\n\r\n                showModalCustom({\r\n                    title: \"Info Tagihan PLN\",\r\n                    message,\r\n                    buttons: [\r\n                        {\r\n                            text: \"BAYAR\",\r\n                            className: \"modal-ok\",\r\n                            onClick: () => {\r\n                                kirimPesan(\"pln.\" + idPelanggan);\r\n                            }\r\n                        },\r\n                        {\r\n                            text: \"CANCEL\",\r\n                            className: \"modal-cancel\",\r\n                            onClick: () => {\r\n                                showToast(\"Pembayaran dibatalkan\", \"error\");\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n                return true;\r\n            }\r\n        }\r\n\r\n\r\n        // \uD83D\uDD39 Filter: hanya tampilkan jika mengandung kata harga/Harga/#Harga\r\n        if (!/(?:#?Harga)/i.test(body)) {\r\n            return true;\r\n        }\r\n\r\n        let type = \"error\";\r\n        if (/SUKSES/i.test(body) || /DIPROSES/i.test(body)) {\r\n            type = \"success\";\r\n        }\r\n        showToast(body, type, 5000);\r\n    }\r\n    return true;\r\n}\r\n", "//file pin.js\r\nconst pinOverlay = document.getElementById(\"pinOverlay\");\r\nconst pinMessage = document.getElementById(\"pinMessage\");\r\nconst circles = document.querySelectorAll(\".pinCircle\");\r\nconst buttons = document.querySelectorAll(\".pinPad button\");\r\nconst backBtn = document.getElementById(\"pinBack\");\r\n\r\nlet pinInput = \"\";\r\nlet pinStep = \"check\"; // \"check\", \"set\", \"confirm\"\r\nlet tempPin = \"\";\r\n\r\n// fungsi util untuk hashing SHA-256\r\nasync function sha256(str) {\r\n    const encoder = new TextEncoder();\r\n    const data = encoder.encode(str);\r\n    const hashBuffer = await crypto.subtle.digest(\"SHA-256\", data);\r\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n    return hashArray.map(b => b.toString(16).padStart(2, \"0\")).join(\"\"); // hex string\r\n}\r\n\r\n// \u2705 fungsi untuk ambil PIN terbaru dari localStorage\r\nfunction getStoredPin() {\r\n    return localStorage.getItem(\"appPin\");\r\n}\r\n\r\n// Set pesan awal sesuai kondisi terbaru\r\nif (!getStoredPin()) {\r\n    pinStep = \"set\";\r\n    pinMessage.textContent = \"Buat PIN Baru 6 Digit\";\r\n} else {\r\n    pinStep = \"check\";\r\n    pinMessage.textContent = \"Masukkan PIN Anda\";\r\n}\r\n\r\n// update tampilan lingkaran\r\nfunction updateCircles() {\r\n    circles.forEach((c, i) => {\r\n        c.classList.toggle(\"filled\", i < pinInput.length);\r\n    });\r\n}\r\n\r\n// reset input\r\nfunction resetPinInput() {\r\n    pinInput = \"\";\r\n    updateCircles();\r\n}\r\n\r\nfunction fadeOutOverlay(callback) {\r\n    pinOverlay.classList.add(\"fade-out\");\r\n\r\n    // tunggu animasi selesai sebelum menjalankan callback\r\n    pinOverlay.addEventListener(\"animationend\", () => {\r\n        pinOverlay.style.display = \"none\"; // sembunyikan overlay\r\n        document.querySelector(\"main.container\").style.display = \"block\";\r\n        if (callback) callback();\r\n    }, { once: true });\r\n}\r\n\r\n\r\n// cek PIN\r\nexport async function checkPin() {\r\n    animateButtons();\r\n    if (pinInput.length !== 6) return;\r\n\r\n    const storedPin = getStoredPin();\r\n    if (!storedPin) return;\r\n\r\n    const inputHash = await sha256(pinInput);\r\n    if (inputHash === storedPin) {\r\n        fadeOutOverlay();\r\n    } else {\r\n        pinMessage.textContent = \"PIN salah, coba lagi\";\r\n        shakeMessage();\r\n        resetPinInput();\r\n    }\r\n}\r\n\r\n\r\nfunction shakeMessage() {\r\n    pinMessage.classList.remove(\"shake\"); // reset jika sebelumnya sudah ada\r\n    void pinMessage.offsetWidth; // trigger reflow agar animasi bisa diulang\r\n    pinMessage.classList.add(\"shake\");\r\n}\r\n\r\nfunction animateButtons() {\r\n    buttons.forEach((btn, index) => {\r\n        btn.style.animationDelay = `${index * 0.1}s`; // 0.1s per tombol\r\n        btn.classList.remove(\"animated\"); // reset jika sebelumnya\r\n        void btn.offsetWidth; // trigger reflow\r\n        btn.classList.add(\"animated\"); // menambahkan kelas supaya animasi dijalankan\r\n    });\r\n}\r\n\r\n// Panggil ini saat overlay PIN ditampilkan\r\n\r\n\r\n\r\n// tombol diklik\r\nbuttons.forEach(btn => {\r\n    if (btn.id === \"pinBack\") return;\r\n    btn.addEventListener(\"click\", async () => {\r\n        if (pinInput.length < 6) {\r\n            pinInput += btn.textContent;\r\n            updateCircles();\r\n\r\n            if (pinInput.length === 6) {\r\n                setTimeout(async () => {\r\n                    if (pinStep === \"check\") {\r\n                        await checkPin();\r\n                    } else if (pinStep === \"set\") {\r\n                        tempPin = pinInput;\r\n                        pinStep = \"confirm\";\r\n                        pinMessage.textContent = \"Konfirmasi PIN 6 digit\";\r\n                        resetPinInput();\r\n                    } else if (pinStep === \"confirm\") {\r\n                        if (pinInput === tempPin) {\r\n                            const hashed = await sha256(pinInput);\r\n                            localStorage.setItem(\"appPin\", hashed);\r\n                            pinMessage.textContent = \"PIN berhasil dibuat!\";\r\n                            setTimeout(() => fadeOutOverlay(), 2000);\r\n                        } else {\r\n                            pinMessage.textContent = \"PIN tidak cocok, coba lagi\";\r\n                            pinStep = \"set\";\r\n                            shakeMessage();\r\n                            resetPinInput();\r\n                        }\r\n                    }\r\n                }, 200);\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\nbackBtn.addEventListener(\"click\", () => {\r\n    pinInput = pinInput.slice(0, -1);\r\n    updateCircles();\r\n});\r\n", "//file xmpp.js\r\nimport { getDataAkun } from \"./getDataAkun.js\";\r\nimport { showMenuKotak } from \"./showMenuKotak.js\";\r\nimport { showLaporanTransaksi } from \"./showLaporanTransaksi.js\";\r\nimport { laporanHandler } from \"./showLaporanTransaksi.js\";\r\nimport { menuHandler } from \"./showMenuKotak.js\";\r\nimport { kirimPesan } from \"./xmppHelper.js\";\r\nimport { notifikasiTransaksi } from \"./notifikasiTransaksi.js\";\r\nimport { checkPin } from \"./pin.js\";\r\nimport { showToast, updateProgress, hideLoadingModal } from \"./utils.js\";\r\n\r\nexport let connection = null;\r\nexport let loginLocked = false; // cegah spam login\r\n// const ws_url = \"wss://pulsa.dpdns.org:5443/ws\"; // WebSocket 5443\r\nconst ws_url = \"wss://pulsa.dpdns.org:7443/ws\"; // WebSocket 7443\r\nconst saldoDisplay = document.getElementById(\"saldoDisplay\");\r\nconst homeDisplay = document.getElementById(\"homeDisplay\");\r\nconst navBottom = document.getElementById(\"navBottom\");\r\n\r\n// Utility log\r\nfunction log(msg) {\r\n    console.log(\"[XMPP]\", msg);\r\n}\r\n\r\n// xmpp.js\r\nfunction saveCredentials(jid, pass) {\r\n    const pinHash = localStorage.getItem(\"appPin\");\r\n    if (!pinHash) {\r\n        console.error(\"PIN belum ada, tidak bisa enkripsi\");\r\n        return;\r\n    }\r\n\r\n    const encryptedJid = CryptoJS.AES.encrypt(jid, pinHash).toString();\r\n    const encryptedPass = CryptoJS.AES.encrypt(pass, pinHash).toString();\r\n\r\n    localStorage.setItem(\"xmpp_jid\", encryptedJid);\r\n    localStorage.setItem(\"xmpp_pass\", encryptedPass);\r\n}\r\n\r\nexport function loadCredentials() {\r\n    const pinHash = localStorage.getItem(\"appPin\");\r\n    if (!pinHash) return null;\r\n\r\n    const encJid = localStorage.getItem(\"xmpp_jid\");\r\n    const encPass = localStorage.getItem(\"xmpp_pass\");\r\n\r\n    if (!encJid || !encPass) return null;\r\n\r\n    try {\r\n        const jid = CryptoJS.AES.decrypt(encJid, pinHash).toString(CryptoJS.enc.Utf8);\r\n        const pass = CryptoJS.AES.decrypt(encPass, pinHash).toString(CryptoJS.enc.Utf8);\r\n        return { jid, pass };\r\n    } catch (e) {\r\n        console.error(\"Gagal dekripsi:\", e);\r\n        return null;\r\n    }\r\n}\r\n\r\n// Hapus kredensial\r\nfunction clearCredentials() {\r\n    // console.log(\"Clearing credentials from localStorage\");\r\n    localStorage.removeItem(\"xmpp_jid\");\r\n    localStorage.removeItem(\"xmpp_pass\");\r\n}\r\n\r\n\r\n// Fungsi koneksi XMPP\r\nexport function connectXMPP(jid, pass, sudahKonek = null) {\r\n    if (loginLocked) {\r\n        log(\"Login temporarily locked, please wait...\");\r\n        return;\r\n    }\r\n\r\n    connection = new Strophe.Connection(ws_url);\r\n\r\n    connection.connect(jid + \"/\", pass, function (status) {\r\n        console.log(\"[DEBUG] Strophe status:\", status);\r\n        switch (status) {\r\n            case Strophe.Status.CONNECTING:\r\n                console.log(\"Connecting...\");\r\n                updateProgress(50);\r\n                break;\r\n            case Strophe.Status.CONNFAIL:\r\n                console.log(\"Connection failed.\");\r\n                updateProgress(100);\r\n                hideLoadingModal();\r\n                break;\r\n            case Strophe.Status.DISCONNECTING:\r\n                console.log(\"Disconnecting...\");\r\n                break;\r\n            case Strophe.Status.DISCONNECTED:\r\n                console.log(\"Disconnected.\");\r\n                updateProgress(0);\r\n                hideLoadingModal();\r\n                document.getElementById(\"formLogin\").style.display = \"block\";\r\n                saldoDisplay.style.display = \"none\";\r\n                homeDisplay.style.display = \"none\";\r\n                navBottom.style.display = \"none\";\r\n                laporanTransaksiDisplay.style.display = \"none\";\r\n                document.getElementById(\"akunDisplay\").style.display = \"none\";\r\n                break;\r\n            case Strophe.Status.CONNECTED:\r\n                console.log(\"Connected as \" + connection.jid);\r\n                updateProgress(100);\r\n                hideLoadingModal();\r\n\r\n                // \uD83D\uDD39 kosongkan input username & password biar tidak ada jejak\r\n                document.getElementById(\"akune\").value = \"\";\r\n                document.getElementById(\"paswote\").value = \"\";\r\n\r\n                connection.send(\r\n                    $pres().c(\"priority\").t(\"127\") // \uD83D\uDD39 priority = 127\r\n                );\r\n                document.getElementById(\"formLogin\").style.display = \"none\";\r\n\r\n                saveCredentials(jid, pass);\r\n\r\n                kirimPesan(\"S\");\r\n                saldoDisplay.style.display = \"block\";\r\n\r\n                connection.addHandler(getDataAkun, null, \"message\", \"chat\");\r\n                connection.addHandler(laporanHandler, null, \"message\", \"chat\");\r\n                connection.addHandler(menuHandler, null, \"message\", \"chat\");\r\n                connection.addHandler(notifikasiTransaksi, null, \"message\", \"chat\");\r\n\r\n                homeDisplay.style.display = \"block\";\r\n                navBottom.style.display = \"flex\";\r\n                showMenuKotak();\r\n                showLaporanTransaksi();\r\n\r\n                // \uD83D\uDD39 Reset navigasi ke Beranda\r\n                const navButtons = document.querySelectorAll(\".bottom-nav .nav-item\");\r\n                navButtons.forEach(b => b.classList.remove(\"active\"));\r\n                document.getElementById(\"navBeranda\").classList.add(\"active\");\r\n                document.getElementById(\"pinOverlay\").style.display = \"flex\";\r\n                checkPin();\r\n                window.dispatchEvent(new Event(\"loginUnlocked\"));\r\n                if (sudahKonek) sudahKonek(); // panggil callback jika ada\r\n                break;\r\n\r\n            case Strophe.Status.AUTHFAIL:\r\n                console.log(\"Authentication failed.\");\r\n                clearCredentials();\r\n                showToast(\"Login Gagal\\nPeriksa Username dan Password!\", \"error\");\r\n                updateProgress(100);\r\n                hideLoadingModal();\r\n                loginLocked = true;\r\n                setTimeout(() => {\r\n                    loginLocked = false;\r\n                    console.log(\"Login unlocked, you can try again.\");\r\n                    // \uD83D\uDD39 Trigger event supaya auth.js tahu\r\n                    window.dispatchEvent(new Event(\"loginUnlocked\"));\r\n                }, 5000);\r\n                break;\r\n\r\n            case Strophe.Status.ATTACHED:\r\n                console.log(\"Attached.\");\r\n                break;\r\n            case Strophe.Status.ERROR:\r\n                console.log(\"Error occurred.\");\r\n                break;\r\n            default:\r\n                console.log(\"Other status: \" + status);\r\n        }\r\n    });\r\n}\r\n\r\nexport { log, saveCredentials, clearCredentials };", "//file auth.js\r\nimport { showToast, showLoadingModal, updateProgress } from \"./utils.js\";\r\nimport { connection, connectXMPP, log, clearCredentials, loadCredentials } from \"./xmpp.js\";\r\n\r\nfunction clearLoginForm() {\r\n    document.getElementById(\"akune\").value = \"\";\r\n    document.getElementById(\"paswote\").value = \"\";\r\n}\r\n\r\n\r\nexport function setupAuth(domain) {\r\n\r\n    // Event login manual\r\n    document.getElementById(\"formLogin\").addEventListener(\"submit\", function (e) {\r\n        e.preventDefault();\r\n        const loginBtn = this.querySelector('button[type=\"submit\"]'); // tombol Login\r\n        const user = document.getElementById(\"akune\").value.toLowerCase();\r\n        const pass = document.getElementById(\"paswote\").value;\r\n\r\n        if (!user || !pass) {\r\n            showToast(\"Username dan password harus diisi\", \"error\");\r\n            return;\r\n        }\r\n\r\n        // \uD83D\uDD39 Disable tombol login, tunggu sampai unlock event\r\n        loginBtn.disabled = true;\r\n        loginBtn.textContent = \"Tunggu...\";\r\n\r\n        const jid = user + \"@\" + domain;\r\n        showLoadingModal();\r\n        connectXMPP(jid, pass);\r\n    });\r\n\r\n    // \uD83D\uDD39 Listener: aktifkan tombol login saat xmpp.js bilang unlocked\r\n    window.addEventListener(\"loginUnlocked\", () => {\r\n        const loginBtn = document.querySelector('#formLogin button[type=\"submit\"]');\r\n        if (loginBtn) {\r\n            loginBtn.disabled = false;\r\n            loginBtn.textContent = \"Login\";\r\n        }\r\n    });\r\n\r\n    // Auto login jika ada data tersimpan\r\n    window.addEventListener(\"load\", () => {\r\n        const creds = loadCredentials(); // \uD83D\uDD39 pakai dekripsi\r\n\r\n        console.log(\"Loaded credentials from localStorage:\", creds);\r\n\r\n        if (creds && creds.jid && creds.pass) {\r\n            log(\"Found saved credentials, auto-logging in...\");\r\n\r\n            document.getElementById(\"akune\").value = creds.jid.split(\"@\")[0];\r\n            document.getElementById(\"paswote\").value = creds.pass;\r\n\r\n            showLoadingModal();\r\n            updateProgress(0);\r\n\r\n            connectXMPP(creds.jid, creds.pass, () => {\r\n                document.getElementById(\"loading\").style.display = \"none\";\r\n            });\r\n        } else {\r\n            // kalau gak ada, tampilkan form login\r\n            document.getElementById(\"loading\").style.display = \"none\";\r\n            document.getElementById(\"formLogin\").style.display = \"block\";\r\n        }\r\n    });\r\n\r\n    // Event logout\r\n    document.getElementById(\"logoutBtn\").addEventListener(\"click\", function () {\r\n        console.log(\"Manual logout.\");\r\n        if (connection) {\r\n            connection.disconnect();\r\n            clearCredentials();\r\n        }\r\n        clearLoginForm(); // \uD83D\uDD39 kosongkan input field juga\r\n    });\r\n}", "import { normalizeInput, showToast } from \"./utils.js\";\r\n\r\nexport function getKontak() {\r\n    const contactBtn = document.getElementById(\"contactBtn\");\r\n    contactBtn.addEventListener(\"click\", async () => {\r\n        // nanti gunakan Contacts API jika tersedia\r\n        if (\"contacts\" in navigator && \"ContactsManager\" in window) {\r\n            try {\r\n                const props = [\"name\", \"tel\"];\r\n                const opts = { multiple: false };\r\n                const contacts = await navigator.contacts.select(props, opts);\r\n                if (contacts.length > 0) {\r\n                    inputTujuan.value = normalizeInput(contacts[0].tel[0]);\r\n                    inputTujuan.dispatchEvent(new Event(\"input\", { bubbles: true, composed: true }));\r\n                }\r\n            } catch (err) {\r\n                console.error(\"Akses kontak gagal:\", err);\r\n            }\r\n        } else {\r\n            showToast(\"Browser Anda tidak mendukung akses kontak.\", \"error\");\r\n        }\r\n    });\r\n}", "// file: navigasi.js\r\n\r\nexport function navigasi() {\r\n  const navButtons = document.querySelectorAll(\".bottom-nav .nav-item\");\r\n  const akunDisplay = document.getElementById(\"akunDisplay\");\r\n  \r\n  navButtons.forEach(btn => {\r\n    btn.addEventListener(\"click\", () => {\r\n      // reset semua active\r\n      navButtons.forEach(b => b.classList.remove(\"active\"));\r\n      btn.classList.add(\"active\");\r\n      \r\n      if (btn.id === \"navRiwayat\") {\r\n        console.log(\"ini navRiwayat\");\r\n        document.getElementById(\"laporanTransaksiDisplay\").style.display = \"block\";\r\n        document.getElementById(\"homeDisplay\").style.display = \"none\";\r\n        document.getElementById(\"saldoDisplay\").style.display = \"none\";\r\n        akunDisplay.style.display = \"none\"; // tampilkan halaman akun\r\n      } else if (btn.id === \"navBeranda\") {\r\n        console.log(\"ini halaman navBeranda\");\r\n        document.getElementById(\"homeDisplay\").style.display = \"block\";\r\n        document.getElementById(\"laporanTransaksiDisplay\").style.display = \"none\";\r\n        document.getElementById(\"saldoDisplay\").style.display = \"block\";\r\n        akunDisplay.style.display = \"none\"; // tampilkan halaman akun\r\n      } else if (btn.id === \"navAkun\") {\r\n        console.log(\"ini halaman navAkun\");\r\n        document.getElementById(\"laporanTransaksiDisplay\").style.display = \"none\";\r\n        document.getElementById(\"homeDisplay\").style.display = \"none\";\r\n        document.getElementById(\"saldoDisplay\").style.display = \"none\";\r\n        akunDisplay.style.display = \"block\"; // tampilkan halaman akun\r\n      }\r\n    });\r\n  });\r\n}\r\n", "// file: akunPage.js\r\nexport function akunPage() {\r\n  const akunDisplay = document.getElementById(\"akunDisplay\");\r\n  akunDisplay.innerHTML = `\r\n    <div class=\"akun-list\">\r\n      <button id=\"logoutBtn\" class=\"akun-item\">\r\n        <span class=\"akun-icon\">\uD83D\uDCF4</span>\r\n        <span class=\"akun-label\">Keluar Akun</span>\r\n      </button>\r\n      <button class=\"akun-item refreshBtn\">\r\n        <span class=\"akun-icon\">\uD83D\uDD04</span>\r\n        <span class=\"akun-label\">Refresh Halaman</span>\r\n      </button>\r\n      <button class=\"akun-item toggleThemeBtn\">\r\n        <span class=\"akun-icon\">\uD83C\uDF19</span>\r\n        <span class=\"akun-label\">Tema Gelap/Terang</span>\r\n      </button>\r\n    </div>\r\n  `;\r\n}", "// file: keyboard-fix.js\r\nexport function navigasiKeyboard() {\r\n  const nav = document.getElementById(\"navBottom\");\r\n  if (!nav) return;\r\n\r\n  const viewport = window.visualViewport;\r\n\r\n  function updatePosition() {\r\n    const offsetBottom = window.innerHeight - viewport.height - viewport.offsetTop;\r\n    if (offsetBottom > 0) {\r\n      // keyboard muncul \u2192 angkat nav\r\n      nav.style.bottom = offsetBottom + \"px\";\r\n    } else {\r\n      // keyboard hilang \u2192 normal\r\n      nav.style.bottom = \"0px\";\r\n    }\r\n  }\r\n\r\n  viewport.addEventListener(\"resize\", updatePosition);\r\n  viewport.addEventListener(\"scroll\", updatePosition);\r\n}\r\n\r\n// \uD83D\uDD39 Tambahkan fungsi baru untuk toast\r\nexport function navigasiToast() {\r\n  const toast = document.getElementById(\"toast\");\r\n  if (!toast) return;\r\n\r\n  const viewport = window.visualViewport;\r\n\r\n  function updatePosition() {\r\n    const centerY = viewport.height / 2 + viewport.offsetTop;\r\n    toast.style.top = centerY + \"px\";\r\n  }\r\n\r\n  viewport.addEventListener(\"resize\", updatePosition);\r\n  viewport.addEventListener(\"scroll\", updatePosition);\r\n  updatePosition(); // jalankan pertama kali\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  navigasiKeyboard();\r\n  navigasiToast();   // \uD83D\uDD39 aktifkan untuk toast\r\n});", "//file register.js\r\nimport { showToast, setupTogglePassword } from \"./utils.js\";\r\n\r\nexport function setupRegister(domain) {\r\n\r\n    const formLogin = document.getElementById(\"formLogin\");\r\n    const formRegister = document.getElementById(\"formRegister\");\r\n    // const btnShowRegister = document.getElementById(\"showRegister\");\r\n    const btnBack = document.getElementById(\"backToLogin\");\r\n\r\n    const regUser = document.getElementById(\"regUser\");\r\n    const regPass = document.getElementById(\"regPass\");\r\n    const regPass2 = document.getElementById(\"regPass2\");\r\n    const regWarning = document.getElementById(\"regWarning\");\r\n    const passWarning = document.getElementById(\"passWarning\");\r\n\r\n    // setup toggle password\r\n    setupTogglePassword(document.getElementById(\"toggleRegPass\"), regPass);\r\n    setupTogglePassword(document.getElementById(\"toggleRegPass2\"), regPass2);\r\n\r\n    // \uD83D\uDD39 tampilkan form register\r\n    // btnShowRegister.addEventListener(\"click\", () => {\r\n    //     formLogin.style.display = \"none\";\r\n    //     formRegister.style.display = \"block\";\r\n    // });\r\n\r\n    // \uD83D\uDD39 kembali ke login\r\n    btnBack.addEventListener(\"click\", () => {\r\n        formRegister.reset();\r\n        regWarning.style.display = \"none\";\r\n        passWarning.style.display = \"none\";\r\n        formRegister.style.display = \"none\";\r\n        formLogin.style.display = \"block\";\r\n    });\r\n\r\n    // \uD83D\uDD39 validasi username realtime\r\n    regUser.addEventListener(\"input\", () => {\r\n        const value = regUser.value;\r\n\r\n        if (!/^[A-Za-z0-9]*$/.test(value)) {\r\n            regWarning.textContent = \"Username hanya boleh huruf dan angka (tanpa spasi & simbol)!\";\r\n            regWarning.style.display = \"block\";\r\n        } else {\r\n            regWarning.style.display = \"none\";\r\n        }\r\n    });\r\n\r\n    // \uD83D\uDD39 validasi password realtime\r\n    function checkPasswordMatch() {\r\n        if (regPass.value && regPass2.value && regPass.value !== regPass2.value) {\r\n            passWarning.textContent = \"Konfirmasi password tidak cocok!\";\r\n            passWarning.style.display = \"block\";\r\n        } else {\r\n            passWarning.style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    regPass.addEventListener(\"input\", checkPasswordMatch);\r\n    regPass2.addEventListener(\"input\", checkPasswordMatch);\r\n\r\n    // \uD83D\uDD39 submit register\r\n    formRegister.addEventListener(\"submit\", async (e) => {\r\n        e.preventDefault();\r\n\r\n        // validasi username\r\n        if (!/^[A-Za-z0-9]+$/.test(regUser.value)) {\r\n            regWarning.textContent = \"Username hanya boleh huruf dan angka (tanpa spasi & simbol)!\";\r\n            regWarning.style.display = \"block\";\r\n            return;\r\n        }\r\n\r\n        // validasi password\r\n        if (regPass.value !== regPass2.value) {\r\n            passWarning.textContent = \"Konfirmasi password tidak cocok!\";\r\n            passWarning.style.display = \"block\";\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await fetch(\"https://pulsa.dpdns.org:5443/api/register\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": \"Basic \" + btoa(\"adminkantor@pulsa.dpdns.org:password123\")\r\n                },\r\n                body: JSON.stringify({\r\n                    user: regUser.value,\r\n                    host: domain,\r\n                    password: regPass.value\r\n                })\r\n            });\r\n\r\n            let data;\r\n            try {\r\n                data = await res.json(); // coba parse JSON\r\n            } catch {\r\n                data = await res.text(); // fallback ke text\r\n            }\r\n\r\n            console.log(\"Register response:\", data);\r\n\r\n            if (res.ok && typeof data === \"string\" && data.includes(\"successfully registered\")) {\r\n                // \u2705 sukses dari response text\r\n                const username = regUser.value;\r\n\r\n                showToast(\"Akun berhasil dibuat, silakan login!\", \"success\");\r\n\r\n                // kirim pesan WhatsApp otomatis\r\n                const nomor = \"6282316015252\"; // 62 = kode negara Indonesia\r\n                const pesan = `tambahakun ${username}@${domain}/`;\r\n                window.open(`https://wa.me/${nomor}?text=${encodeURIComponent(pesan)}`, \"_blank\");\r\n\r\n                formRegister.reset();\r\n                formRegister.style.display = \"none\";\r\n                formLogin.style.display = \"block\";\r\n                document.getElementById(\"akune\").value = username;\r\n            }\r\n\r\n            else if (data && data.status === \"error\" && data.message) {\r\n                // \u274C error JSON (misalnya user sudah terdaftar)\r\n\r\n                // cek kalau pesan mengandung \"already registered\"\r\n                if (data.message.includes(\"already registered\")) {\r\n                    // ambil username dari input (lebih aman daripada parsing domain)\r\n                    const username = regUser.value;\r\n                    showToast(`Username ${username} sudah terdaftar, gunakan username lain`, \"error\", 5000);\r\n                } else {\r\n                    showToast(data.message, \"error\");\r\n                }\r\n\r\n                // fokus ke regUser dan kosongkan password\r\n                regPass.value = \"\";\r\n                regPass2.value = \"\";\r\n\r\n            } else {\r\n                // fallback error umum\r\n                showToast(\"Gagal register, coba lagi!\", \"error\");\r\n            }\r\n\r\n        } catch (err) {\r\n            console.error(err);\r\n            showToast(\"Terjadi kesalahan koneksi\", \"error\");\r\n        }\r\n    });\r\n\r\n}\r\n", "import { showToast } from \"./utils.js\";\r\n\r\nlet backPressedOnce = false;\r\nlet backPressTimer = null;\r\n\r\nfunction showExitToast() {\r\n  showToast(\"Tekan sekali lagi untuk keluar\", \"sukses\");\r\n}\r\n\r\nexport function setupBackHandler() {\r\n  window.addEventListener(\"popstate\", (e) => {\r\n    // cek dulu kalau ada modal terbuka\r\n    if (window.modalTerbuka) {\r\n      const modalOverlay = document.getElementById(\"modalOverlay\");\r\n      if (modalOverlay) {\r\n        modalOverlay.style.display = \"none\";\r\n        window.modalTerbuka = false;\r\n      }\r\n      return; // stop di sini, jangan ke exit logic\r\n    }\r\n\r\n    // kalau tidak ada modal \u2192 lanjut logika exit\r\n    if (!backPressedOnce) {\r\n      showExitToast();\r\n      backPressedOnce = true;\r\n\r\n      if (backPressTimer) clearTimeout(backPressTimer);\r\n      backPressTimer = setTimeout(() => {\r\n        backPressedOnce = false;\r\n      }, 1500);\r\n\r\n      history.pushState({ dummy: true }, null, location.href);\r\n    } else {\r\n      if (backPressTimer) clearTimeout(backPressTimer);\r\n      backPressedOnce = false;\r\n      // biarkan default \u2192 aplikasi close\r\n    }\r\n  });\r\n\r\n  window.addEventListener(\"load\", () => {\r\n    history.pushState({ first: true }, null, location.href);\r\n  });\r\n}\r\n\r\n", "//file: serviceWorkerRegister.js\r\nimport { showToast } from \"./utils.js\";\r\n\r\nexport function registerServiceWorker() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    window.addEventListener(\"load\", () => {\r\n      navigator.serviceWorker.register(\"sw.js\")\r\n        .then((reg) => {\r\n          console.log(\"Service Worker registered:\", reg.scope);\r\n\r\n          reg.onupdatefound = () => {\r\n            const newWorker = reg.installing;\r\n            newWorker.onstatechange = () => {\r\n              if (newWorker.state === \"installed\") {\r\n                if (navigator.serviceWorker.controller) {\r\n                  showToast(\"Versi baru tersedia\\nsilakan keluar lalu masuk lagi!\", \"success\");\r\n                  setTimeout(() => window.location.reload(), 1500);\r\n                }\r\n              }\r\n            };\r\n          };\r\n        })\r\n        .catch((err) => console.log(\"Service Worker failed:\", err));\r\n    });\r\n  }\r\n}\r\n", "//file: app.js\r\nimport { normalizeInput, setupTogglePassword, preventTextSelectionAndContextMenu, showToast } from \"./utils.js\";\r\nimport { setupTheme } from \"./tema.js\";\r\nimport { setupAuth } from \"./auth.js\";\r\nimport { getKontak } from \"./getKontak.js\";\r\nimport { navigasi } from \"./navigasi.js\";\r\nimport { akunPage } from \"./akunPage.js\";\r\nimport { navigasiKeyboard, navigasiToast } from \"./navigasiKeyboard.js\";\r\nimport { setupRegister } from \"./register.js\";\r\nimport { setupBackHandler } from \"./backHandler.js\";\r\nimport { registerServiceWorker } from \"./serviceWorkerRegister.js\";\r\n\r\nnavigasi();\r\nakunPage();\r\nlet domain = \"pulsa.dpdns.org\";\r\n\r\n// panggil modul registrasi service worker\r\nregisterServiceWorker();\r\n\r\n// ----------------------\r\n// MENCEGAH KLIK KANAN\r\n// ----------------------\r\ndocument.addEventListener(\"contextmenu\", function (e) {\r\n  e.preventDefault();\r\n});\r\n\r\n\r\n// tambahkan event listener ke semua tombol refresh\r\ndocument.querySelectorAll(\".refreshBtn\").forEach(btn => {\r\n  btn.addEventListener(\"click\", () => {\r\n    console.log(\"Refresh button clicked, reloading...\");\r\n    window.location.reload(); // reload seluruh halaman\r\n  });\r\n});\r\n\r\n\r\n// Setup hide/show password\r\nconst togglePass = document.getElementById(\"togglePass\");\r\nconst passInput = document.getElementById(\"paswote\");\r\nsetupTogglePassword(togglePass, passInput);\r\n\r\n// Ambil input tujuan\r\nconst inputTujuan = document.getElementById(\"inputTujuan\");\r\n\r\n// Pasang listener untuk normalize setiap kali input berubah\r\ninputTujuan.addEventListener(\"input\", () => {\r\n  inputTujuan.value = normalizeInput(inputTujuan.value);\r\n});\r\n\r\n// Cegah text selection & context menu\r\npreventTextSelectionAndContextMenu();\r\n\r\ngetKontak();\r\nsetupAuth(domain);\r\nsetupRegister(domain);\r\nsetupTheme();\r\nnavigasiKeyboard();\r\nnavigasiToast();\r\n\r\ndocument.addEventListener('gesturestart', function (e) {\r\n  e.preventDefault();\r\n});\r\n\r\nsetupBackHandler();\r\n\r\n// file: app.js\r\ndocument.addEventListener(\"focusin\", (e) => {\r\n  if (e.target.tagName === \"INPUT\" || e.target.tagName === \"TEXTAREA\") {\r\n    setTimeout(() => {\r\n      e.target.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"center\"\r\n      });\r\n    }, 300);\r\n  }\r\n});\r\n"],
  "mappings": "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",
  "names": ["createButton", "label", "onClick", "btn", "toastTimeout", "showToast", "message", "type", "durasi", "toast", "icon", "normalizeRupiah", "str", "normalizeInput", "value", "val", "setupTogglePassword", "toggleBtnEl", "passInputEl", "preventTextSelectionAndContextMenu", "showLoadingModal", "updateProgress", "hideLoadingModal", "progress", "text", "productCommand", "baseCode", "setupTheme", "toggleBtns", "htmlTag", "themeMeta", "themeColors", "savedTheme", "updateUI", "theme", "color", "btn", "icon", "newTheme", "getDataAkun", "msg", "elems", "body", "agenMatch", "agen", "kodeAgen", "saldoMatch", "prosesMatch", "trxMatch", "bonusMatch", "poinMatch", "pemakaianMatch", "saldo", "proses", "trx", "bonus", "poin", "pemakaian", "grupMatch", "tipeAkun", "kirimPesan", "isiPesan", "to", "connection", "message", "onMessage", "callback", "msg", "body", "responseText", "inputTujuan", "operatorDisplay", "extraButtons", "clearInput", "operatorPrefix", "detectOperator", "number", "foundOperator", "sortedOperators", "b", "maxA", "p", "operator", "prefixes", "prefix", "handleInputChange", "nomor", "toggleClearBtn", "showModalCustom", "title", "message", "buttons", "modalOverlay", "modalHeader", "modalMessage", "modalButtons", "modalCloseBtn", "btn", "buttonEl", "showModalConfirm", "judul", "onConfirm", "onCancel", "extraButtons", "inputTujuan", "showHargaItem", "responseText", "lines", "l", "headerAdded", "line", "parts", "kode", "deskripsi", "harga", "headerDiv", "div", "nomor", "pesanKonfirmasi", "showModalConfirm", "kirimPesan", "showToast", "menuPulsa", "extraButtons", "operatorDisplay", "operator", "showToast", "tipeAkun", "createButton", "kirimPesan", "productCommand", "menuPaketData", "extraButtons", "operatorDisplay", "operator", "showToast", "createButton", "kirimPesan", "menuPaketNelpon", "extraButtons", "operatorDisplay", "operator", "showToast", "createButton", "kirimPesan", "inputTujuan", "menuTokenListrik", "extraButtons", "operatorDisplay", "operator", "createButton", "kirimPesan", "productCommand", "menuEwallet", "extraButtons", "operatorDisplay", "operator", "createButton", "kirimPesan", "menuGames", "extraButtons", "operatorDisplay", "operator", "createButton", "kirimPesan", "inputTujuan", "menuPaketTv", "extraButtons", "operatorDisplay", "operator", "createButton", "kirimPesan", "inputTujuan", "menuBayarListrik", "extraButtons", "operatorDisplay", "operator", "createButton", "kirimPesan", "inputTujuan", "menuBayarBpjs", "extraButtons", "operatorDisplay", "operator", "createButton", "kirimPesan", "inputTujuan", "menuBayarIndihome", "extraButtons", "operatorDisplay", "operator", "createButton", "kirimPesan", "menuGrid", "menuHandler", "onMessage", "responseText", "showHargaItem", "showMenuKotak", "menus", "menu", "div", "emojiSpan", "p", "handleMenuClick", "inputTujuan", "showToast", "extraButtons", "operator", "operatorDisplay", "menuPulsa", "menuPaketData", "menuPaketNelpon", "menuTokenListrik", "menuEwallet", "menuGames", "menuPaketTv", "menuBayarListrik", "menuBayarBpjs", "menuBayarIndihome", "homeDisplay", "renderLaporanHeader", "line", "header", "list", "headerWrapper", "title", "row", "headerText", "btnGroup", "refreshBtn", "getLaporanTransaksi", "shareStruk", "parsed", "tanggal", "hargaJual", "jenisProduk", "harga", "admin", "total", "namaAgen", "fontSize", "textWidth", "diagonal", "tileSize", "cx", "cy", "watermarkSVG", "encoded", "tempDiv", "canvas", "dataUrl", "blob", "file", "showToast", "specialMap", "prefixes", "hitungHargaJualDefault", "hargaModal", "minimal", "kelipatan", "getHargaJual", "kode", "lowerKode", "prefix", "nominalPart", "printCharacteristic", "connectPrinter", "sendToPrinter", "text", "data", "printThermalStruk", "parsed", "tanggal", "hargaJual", "jenisProduk", "admin", "total", "strukText", "showToast", "err", "getHargaTerbaru", "fallback", "el", "raw", "klikDetailLaporan", "parsed", "tanggal", "hargaModal", "normalizeRupiah", "kode", "hargaJual", "getHargaJual", "keuntungan", "hargaJualId", "message", "isSNInvalid", "showModalCustom", "shareStruk", "pesan", "url", "printThermalStruk", "editBtn", "hargaSpan", "currentVal", "inputEl", "e", "start", "end", "formatted", "before", "diff", "val", "showToast", "renderLaporanItem", "parsed", "list", "tanggal", "div", "left", "right", "statusText", "klikDetailLaporan", "laporanHandler", "onMessage", "responseText", "tampilkanLaporanTransaksi", "laporanTransaksiDisplay", "tanggalSekarang", "showLaporanTransaksi", "navRiwayat", "today", "getLaporanTransaksi", "kirimPesan", "parseLaporanLine", "line", "regex", "match", "sn", "identitasMatch", "dataText", "header", "list", "lines", "l", "tanggalSaja", "buffer", "tanggal", "renderLaporanHeader", "info", "parsed", "renderLaporanItem", "notifikasiTransaksi", "msg", "elems", "body", "showToast", "nama", "noMeter", "tarif", "message", "showModalCustom", "inputTujuan", "kirimPesan", "idMatch", "idPelanggan", "snRefMatch", "parts", "data", "p", "k", "v", "td", "jbln", "ptag", "tag", "adm", "ttag", "formatRp", "val", "normalizeRupiah", "type", "pinOverlay", "pinMessage", "circles", "buttons", "backBtn", "pinInput", "pinStep", "tempPin", "sha256", "str", "data", "hashBuffer", "b", "getStoredPin", "updateCircles", "c", "i", "resetPinInput", "fadeOutOverlay", "callback", "checkPin", "animateButtons", "storedPin", "shakeMessage", "btn", "index", "hashed", "connection", "loginLocked", "ws_url", "saldoDisplay", "homeDisplay", "navBottom", "log", "msg", "saveCredentials", "jid", "pass", "pinHash", "encryptedJid", "encryptedPass", "loadCredentials", "encJid", "encPass", "e", "clearCredentials", "connectXMPP", "sudahKonek", "status", "updateProgress", "hideLoadingModal", "kirimPesan", "getDataAkun", "laporanHandler", "menuHandler", "notifikasiTransaksi", "showMenuKotak", "showLaporanTransaksi", "b", "checkPin", "showToast", "clearLoginForm", "setupAuth", "domain", "e", "loginBtn", "user", "pass", "showToast", "jid", "showLoadingModal", "connectXMPP", "creds", "loadCredentials", "log", "updateProgress", "connection", "clearCredentials", "getKontak", "props", "opts", "contacts", "normalizeInput", "err", "showToast", "navigasi", "navButtons", "akunDisplay", "btn", "b", "akunPage", "akunDisplay", "navigasiKeyboard", "nav", "viewport", "updatePosition", "offsetBottom", "navigasiToast", "toast", "centerY", "setupRegister", "domain", "formLogin", "formRegister", "btnBack", "regUser", "regPass", "regPass2", "regWarning", "passWarning", "setupTogglePassword", "value", "checkPasswordMatch", "e", "res", "data", "username", "showToast", "nomor", "pesan", "err", "backPressedOnce", "backPressTimer", "showExitToast", "showToast", "setupBackHandler", "modalOverlay", "registerServiceWorker", "reg", "newWorker", "showToast", "err", "navigasi", "akunPage", "domain", "registerServiceWorker", "btn", "togglePass", "passInput", "setupTogglePassword", "inputTujuan", "normalizeInput", "preventTextSelectionAndContextMenu", "getKontak", "setupAuth", "setupRegister", "setupTheme", "navigasiKeyboard", "navigasiToast", "setupBackHandler"]
}
